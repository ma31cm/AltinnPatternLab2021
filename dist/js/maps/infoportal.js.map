{"version":3,"sources":["articleAnchors.js","colnav.min.js","colnavCustom.js","genericSearch.js","listenForAttachmentChanges.js","newsArchive.js","questionnaireInteraction.js","setupFormValidation.js","subscribe.js","uniformHeight.js","addListExpandHandler.js","feedbackToggle.js","selectableCheckbox.js","altinnDropdown.js","handleFocus.js","setupTruncateLines.js","altinnLoader.js","initializeDatepicker.js","showPassword.js","altinnModal.js","listSort.js","toggleFilter.js","altinnQuickhelp.js","menuToggleEffect.js","toggleInstant.js","autofootnotes.js","mobileNavigation.js","togglePanel.js","clickableRow.js","nestedCheckboxes.js","tooltip.js","compareTo.js","personSwitcher.js","validation.js","popover.js","expandContent.js","searchFilterView.js","ios11BugWorkaround.js","contactForm.js","sessionExpiredDialog.js","infoportal-init.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACRA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjlFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC1EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACXA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3JA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACpBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/EA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AClZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACvDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACfA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC3HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACdA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACjBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;ACLA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AChBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtOA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACtBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACrCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACnBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;ACxFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"../infoportal.js","sourcesContent":["var articleAnchors = function() {\r\n  if ($('.epi-wysiwyg').length > 0 && $('.sg-pattern-category').length === 0) {\r\n    window.anchors.options.placement = 'left';\r\n    window.anchors.options.class = 'a-sg-anchor';\r\n    window.anchors.add('h2');\r\n    window.anchors.add('h3');\r\n  }\r\n};\r\n","!function ($) {\r\n\r\n  \"use strict\";\r\n\r\n  var FOUNDATION_VERSION = '6.3.1';\r\n\r\n  // Global Foundation object\r\n  // This is attached to the window, or used as a module for AMD/Browserify\r\n  var Foundation = {\r\n    version: FOUNDATION_VERSION,\r\n\r\n    /**\r\n     * Stores initialized plugins.\r\n     */\r\n    _plugins: {},\r\n\r\n    /**\r\n     * Stores generated unique ids for plugin instances\r\n     */\r\n    _uuids: [],\r\n\r\n    /**\r\n     * Returns a boolean for RTL support\r\n     */\r\n    rtl: function () {\r\n      return $('html').attr('dir') === 'rtl';\r\n    },\r\n    /**\r\n     * Defines a Foundation plugin, adding it to the `Foundation` namespace and the list of plugins to initialize when reflowing.\r\n     * @param {Object} plugin - The constructor of the plugin.\r\n     */\r\n    plugin: function (plugin, name) {\r\n      // Object key to use when adding to global Foundation object\r\n      // Examples: Foundation.Reveal, Foundation.OffCanvas\r\n      var className = name || functionName(plugin);\r\n      // Object key to use when storing the plugin, also used to create the identifying data attribute for the plugin\r\n      // Examples: data-reveal, data-off-canvas\r\n      var attrName = hyphenate(className);\r\n\r\n      // Add to the Foundation object and the plugins list (for reflowing)\r\n      this._plugins[attrName] = this[className] = plugin;\r\n    },\r\n    /**\r\n     * @function\r\n     * Populates the _uuids array with pointers to each individual plugin instance.\r\n     * Adds the `zfPlugin` data-attribute to programmatically created plugins to allow use of $(selector).foundation(method) calls.\r\n     * Also fires the initialization event for each plugin, consolidating repetitive code.\r\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\r\n     * @param {String} name - the name of the plugin, passed as a camelCased string.\r\n     * @fires Plugin#init\r\n     */\r\n    registerPlugin: function (plugin, name) {\r\n      var pluginName = name ? hyphenate(name) : functionName(plugin.constructor).toLowerCase();\r\n      plugin.uuid = this.GetYoDigits(6, pluginName);\r\n\r\n      if (!plugin.$element.attr('data-' + pluginName)) {\r\n        plugin.$element.attr('data-' + pluginName, plugin.uuid);\r\n      }\r\n      if (!plugin.$element.data('zfPlugin')) {\r\n        plugin.$element.data('zfPlugin', plugin);\r\n      }\r\n      /**\r\n       * Fires when the plugin has initialized.\r\n       * @event Plugin#init\r\n       */\r\n      plugin.$element.trigger('init.zf.' + pluginName);\r\n\r\n      this._uuids.push(plugin.uuid);\r\n\r\n      return;\r\n    },\r\n    /**\r\n     * @function\r\n     * Removes the plugins uuid from the _uuids array.\r\n     * Removes the zfPlugin data attribute, as well as the data-plugin-name attribute.\r\n     * Also fires the destroyed event for the plugin, consolidating repetitive code.\r\n     * @param {Object} plugin - an instance of a plugin, usually `this` in context.\r\n     * @fires Plugin#destroyed\r\n     */\r\n    unregisterPlugin: function (plugin) {\r\n      var pluginName = hyphenate(functionName(plugin.$element.data('zfPlugin').constructor));\r\n\r\n      this._uuids.splice(this._uuids.indexOf(plugin.uuid), 1);\r\n      plugin.$element.removeAttr('data-' + pluginName).removeData('zfPlugin')\r\n      /**\r\n       * Fires when the plugin has been destroyed.\r\n       * @event Plugin#destroyed\r\n       */\r\n      .trigger('destroyed.zf.' + pluginName);\r\n      for (var prop in plugin) {\r\n        plugin[prop] = null; //clean up script to prep for garbage collection.\r\n      }\r\n      return;\r\n    },\r\n\r\n    /**\r\n     * @function\r\n     * Causes one or more active plugins to re-initialize, resetting event listeners, recalculating positions, etc.\r\n     * @param {String} plugins - optional string of an individual plugin key, attained by calling `$(element).data('pluginName')`, or string of a plugin class i.e. `'dropdown'`\r\n     * @default If no argument is passed, reflow all currently active plugins.\r\n     */\r\n    reInit: function (plugins) {\r\n      var isJQ = plugins instanceof $;\r\n      try {\r\n        if (isJQ) {\r\n          plugins.each(function () {\r\n            $(this).data('zfPlugin')._init();\r\n          });\r\n        } else {\r\n          var type = typeof plugins,\r\n              _this = this,\r\n              fns = {\r\n            'object': function (plgs) {\r\n              plgs.forEach(function (p) {\r\n                p = hyphenate(p);\r\n                $('[data-' + p + ']').foundation('_init');\r\n              });\r\n            },\r\n            'string': function () {\r\n              plugins = hyphenate(plugins);\r\n              $('[data-' + plugins + ']').foundation('_init');\r\n            },\r\n            'undefined': function () {\r\n              this['object'](Object.keys(_this._plugins));\r\n            }\r\n          };\r\n          fns[type](plugins);\r\n        }\r\n      } catch (err) {\r\n        console.error(err);\r\n      } finally {\r\n        return plugins;\r\n      }\r\n    },\r\n\r\n    /**\r\n     * returns a random base-36 uid with namespacing\r\n     * @function\r\n     * @param {Number} length - number of random base-36 digits desired. Increase for more random strings.\r\n     * @param {String} namespace - name of plugin to be incorporated in uid, optional.\r\n     * @default {String} '' - if no plugin name is provided, nothing is appended to the uid.\r\n     * @returns {String} - unique id\r\n     */\r\n    GetYoDigits: function (length, namespace) {\r\n      length = length || 6;\r\n      return Math.round(Math.pow(36, length + 1) - Math.random() * Math.pow(36, length)).toString(36).slice(1) + (namespace ? '-' + namespace : '');\r\n    },\r\n    /**\r\n     * Initialize plugins on any elements within `elem` (and `elem` itself) that aren't already initialized.\r\n     * @param {Object} elem - jQuery object containing the element to check inside. Also checks the element itself, unless it's the `document` object.\r\n     * @param {String|Array} plugins - A list of plugins to initialize. Leave this out to initialize everything.\r\n     */\r\n    reflow: function (elem, plugins) {\r\n\r\n      // If plugins is undefined, just grab everything\r\n      if (typeof plugins === 'undefined') {\r\n        plugins = Object.keys(this._plugins);\r\n      }\r\n      // If plugins is a string, convert it to an array with one item\r\n      else if (typeof plugins === 'string') {\r\n          plugins = [plugins];\r\n        }\r\n\r\n      var _this = this;\r\n\r\n      // Iterate through each plugin\r\n      $.each(plugins, function (i, name) {\r\n        // Get the current plugin\r\n        var plugin = _this._plugins[name];\r\n\r\n        // Localize the search to all elements inside elem, as well as elem itself, unless elem === document\r\n        var $elem = $(elem).find('[data-' + name + ']').addBack('[data-' + name + ']');\r\n\r\n        // For each plugin found, initialize it\r\n        $elem.each(function () {\r\n          var $el = $(this),\r\n              opts = {};\r\n          // Don't double-dip on plugins\r\n          if ($el.data('zfPlugin')) {\r\n            console.warn(\"Tried to initialize \" + name + \" on an element that already has a Foundation plugin.\");\r\n            return;\r\n          }\r\n\r\n          if ($el.attr('data-options')) {\r\n            var thing = $el.attr('data-options').split(';').forEach(function (e, i) {\r\n              var opt = e.split(':').map(function (el) {\r\n                return el.trim();\r\n              });\r\n              if (opt[0]) opts[opt[0]] = parseValue(opt[1]);\r\n            });\r\n          }\r\n          try {\r\n            $el.data('zfPlugin', new plugin($(this), opts));\r\n          } catch (er) {\r\n            console.error(er);\r\n          } finally {\r\n            return;\r\n          }\r\n        });\r\n      });\r\n    },\r\n    getFnName: functionName,\r\n    transitionend: function ($elem) {\r\n      var transitions = {\r\n        'transition': 'transitionend',\r\n        'WebkitTransition': 'webkitTransitionEnd',\r\n        'MozTransition': 'transitionend',\r\n        'OTransition': 'otransitionend'\r\n      };\r\n      var elem = document.createElement('div'),\r\n          end;\r\n\r\n      for (var t in transitions) {\r\n        if (typeof elem.style[t] !== 'undefined') {\r\n          end = transitions[t];\r\n        }\r\n      }\r\n      if (end) {\r\n        return end;\r\n      } else {\r\n        end = setTimeout(function () {\r\n          $elem.triggerHandler('transitionend', [$elem]);\r\n        }, 1);\r\n        return 'transitionend';\r\n      }\r\n    }\r\n  };\r\n\r\n  Foundation.util = {\r\n    /**\r\n     * Function for applying a debounce effect to a function call.\r\n     * @function\r\n     * @param {Function} func - Function to be called at end of timeout.\r\n     * @param {Number} delay - Time in ms to delay the call of `func`.\r\n     * @returns function\r\n     */\r\n    throttle: function (func, delay) {\r\n      var timer = null;\r\n\r\n      return function () {\r\n        var context = this,\r\n            args = arguments;\r\n\r\n        if (timer === null) {\r\n          timer = setTimeout(function () {\r\n            func.apply(context, args);\r\n            timer = null;\r\n          }, delay);\r\n        }\r\n      };\r\n    }\r\n  };\r\n\r\n  // TODO: consider not making this a jQuery function\r\n  // TODO: need way to reflow vs. re-initialize\r\n  /**\r\n   * The Foundation jQuery method.\r\n   * @param {String|Array} method - An action to perform on the current jQuery object.\r\n   */\r\n  var foundation = function (method) {\r\n    var type = typeof method,\r\n        $meta = $('meta.foundation-mq'),\r\n        $noJS = $('.no-js');\r\n\r\n    if (!$meta.length) {\r\n      $('<meta class=\"foundation-mq\">').appendTo(document.head);\r\n    }\r\n    if ($noJS.length) {\r\n      $noJS.removeClass('no-js');\r\n    }\r\n\r\n    if (type === 'undefined') {\r\n      //needs to initialize the Foundation object, or an individual plugin.\r\n      Foundation.MediaQuery._init();\r\n      Foundation.reflow(this);\r\n    } else if (type === 'string') {\r\n      //an individual method to invoke on a plugin or group of plugins\r\n      var args = Array.prototype.slice.call(arguments, 1); //collect all the arguments, if necessary\r\n      var plugClass = this.data('zfPlugin'); //determine the class of plugin\r\n\r\n      if (plugClass !== undefined && plugClass[method] !== undefined) {\r\n        //make sure both the class and method exist\r\n        if (this.length === 1) {\r\n          //if there's only one, call it directly.\r\n          plugClass[method].apply(plugClass, args);\r\n        } else {\r\n          this.each(function (i, el) {\r\n            //otherwise loop through the jQuery collection and invoke the method on each\r\n            plugClass[method].apply($(el).data('zfPlugin'), args);\r\n          });\r\n        }\r\n      } else {\r\n        //error for no class or no method\r\n        throw new ReferenceError(\"We're sorry, '\" + method + \"' is not an available method for \" + (plugClass ? functionName(plugClass) : 'this element') + '.');\r\n      }\r\n    } else {\r\n      //error for invalid argument type\r\n      throw new TypeError('We\\'re sorry, ' + type + ' is not a valid parameter. You must use a string representing the method you wish to invoke.');\r\n    }\r\n    return this;\r\n  };\r\n\r\n  window.Foundation = Foundation;\r\n  $.fn.foundation = foundation;\r\n\r\n  // Polyfill for requestAnimationFrame\r\n  (function () {\r\n    if (!Date.now || !window.Date.now) window.Date.now = Date.now = function () {\r\n      return new Date().getTime();\r\n    };\r\n\r\n    var vendors = ['webkit', 'moz'];\r\n    for (var i = 0; i < vendors.length && !window.requestAnimationFrame; ++i) {\r\n      var vp = vendors[i];\r\n      window.requestAnimationFrame = window[vp + 'RequestAnimationFrame'];\r\n      window.cancelAnimationFrame = window[vp + 'CancelAnimationFrame'] || window[vp + 'CancelRequestAnimationFrame'];\r\n    }\r\n    if (/iP(ad|hone|od).*OS 6/.test(window.navigator.userAgent) || !window.requestAnimationFrame || !window.cancelAnimationFrame) {\r\n      var lastTime = 0;\r\n      window.requestAnimationFrame = function (callback) {\r\n        var now = Date.now();\r\n        var nextTime = Math.max(lastTime + 16, now);\r\n        return setTimeout(function () {\r\n          callback(lastTime = nextTime);\r\n        }, nextTime - now);\r\n      };\r\n      window.cancelAnimationFrame = clearTimeout;\r\n    }\r\n    /**\r\n     * Polyfill for performance.now, required by rAF\r\n     */\r\n    if (!window.performance || !window.performance.now) {\r\n      window.performance = {\r\n        start: Date.now(),\r\n        now: function () {\r\n          return Date.now() - this.start;\r\n        }\r\n      };\r\n    }\r\n  })();\r\n  if (!Function.prototype.bind) {\r\n    Function.prototype.bind = function (oThis) {\r\n      if (typeof this !== 'function') {\r\n        // closest thing possible to the ECMAScript 5\r\n        // internal IsCallable function\r\n        throw new TypeError('Function.prototype.bind - what is trying to be bound is not callable');\r\n      }\r\n\r\n      var aArgs = Array.prototype.slice.call(arguments, 1),\r\n          fToBind = this,\r\n          fNOP = function () {},\r\n          fBound = function () {\r\n        return fToBind.apply(this instanceof fNOP ? this : oThis, aArgs.concat(Array.prototype.slice.call(arguments)));\r\n      };\r\n\r\n      if (this.prototype) {\r\n        // native functions don't have a prototype\r\n        fNOP.prototype = this.prototype;\r\n      }\r\n      fBound.prototype = new fNOP();\r\n\r\n      return fBound;\r\n    };\r\n  }\r\n  // Polyfill to get the name of a function in IE9\r\n  function functionName(fn) {\r\n    if (Function.prototype.name === undefined) {\r\n      var funcNameRegex = /function\\s([^(]{1,})\\(/;\r\n      var results = funcNameRegex.exec(fn.toString());\r\n      return results && results.length > 1 ? results[1].trim() : \"\";\r\n    } else if (fn.prototype === undefined) {\r\n      return fn.constructor.name;\r\n    } else {\r\n      return fn.prototype.constructor.name;\r\n    }\r\n  }\r\n  function parseValue(str) {\r\n    if ('true' === str) return true;else if ('false' === str) return false;else if (!isNaN(str * 1)) return parseFloat(str);\r\n    return str;\r\n  }\r\n  // Convert PascalCase to kebab-case\r\n  // Thank you: http://stackoverflow.com/a/8955580\r\n  function hyphenate(str) {\r\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\r\n  }\r\n}(jQuery);\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  // Default set of media queries\r\n  var defaultQueries = {\r\n    'default': 'only screen',\r\n    landscape: 'only screen and (orientation: landscape)',\r\n    portrait: 'only screen and (orientation: portrait)',\r\n    retina: 'only screen and (-webkit-min-device-pixel-ratio: 2),' + 'only screen and (min--moz-device-pixel-ratio: 2),' + 'only screen and (-o-min-device-pixel-ratio: 2/1),' + 'only screen and (min-device-pixel-ratio: 2),' + 'only screen and (min-resolution: 192dpi),' + 'only screen and (min-resolution: 2dppx)'\r\n  };\r\n\r\n  var MediaQuery = {\r\n    queries: [],\r\n\r\n    current: '',\r\n\r\n    /**\r\n     * Initializes the media query helper, by extracting the breakpoint list from the CSS and activating the breakpoint watcher.\r\n     * @function\r\n     * @private\r\n     */\r\n    _init: function () {\r\n      var self = this;\r\n      var extractedStyles = $('.foundation-mq').css('font-family');\r\n      var namedQueries;\r\n\r\n      namedQueries = parseStyleToObject(extractedStyles);\r\n\r\n      for (var key in namedQueries) {\r\n        if (namedQueries.hasOwnProperty(key)) {\r\n          self.queries.push({\r\n            name: key,\r\n            value: 'only screen and (min-width: ' + namedQueries[key] + ')'\r\n          });\r\n        }\r\n      }\r\n\r\n      this.current = this._getCurrentSize();\r\n\r\n      this._watcher();\r\n    },\r\n\r\n\r\n    /**\r\n     * Checks if the screen is at least as wide as a breakpoint.\r\n     * @function\r\n     * @param {String} size - Name of the breakpoint to check.\r\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it's smaller.\r\n     */\r\n    atLeast: function (size) {\r\n      var query = this.get(size);\r\n\r\n      if (query) {\r\n        return window.matchMedia(query).matches;\r\n      }\r\n\r\n      return false;\r\n    },\r\n\r\n\r\n    /**\r\n     * Checks if the screen matches to a breakpoint.\r\n     * @function\r\n     * @param {String} size - Name of the breakpoint to check, either 'small only' or 'small'. Omitting 'only' falls back to using atLeast() method.\r\n     * @returns {Boolean} `true` if the breakpoint matches, `false` if it does not.\r\n     */\r\n    is: function (size) {\r\n      size = size.trim().split(' ');\r\n      if (size.length > 1 && size[1] === 'only') {\r\n        if (size[0] === this._getCurrentSize()) return true;\r\n      } else {\r\n        return this.atLeast(size[0]);\r\n      }\r\n      return false;\r\n    },\r\n\r\n\r\n    /**\r\n     * Gets the media query of a breakpoint.\r\n     * @function\r\n     * @param {String} size - Name of the breakpoint to get.\r\n     * @returns {String|null} - The media query of the breakpoint, or `null` if the breakpoint doesn't exist.\r\n     */\r\n    get: function (size) {\r\n      for (var i in this.queries) {\r\n        if (this.queries.hasOwnProperty(i)) {\r\n          var query = this.queries[i];\r\n          if (size === query.name) return query.value;\r\n        }\r\n      }\r\n\r\n      return null;\r\n    },\r\n\r\n\r\n    /**\r\n     * Gets the current breakpoint name by testing every breakpoint and returning the last one to match (the biggest one).\r\n     * @function\r\n     * @private\r\n     * @returns {String} Name of the current breakpoint.\r\n     */\r\n    _getCurrentSize: function () {\r\n      var matched;\r\n\r\n      for (var i = 0; i < this.queries.length; i++) {\r\n        var query = this.queries[i];\r\n\r\n        if (window.matchMedia(query.value).matches) {\r\n          matched = query;\r\n        }\r\n      }\r\n\r\n      if (typeof matched === 'object') {\r\n        return matched.name;\r\n      } else {\r\n        return matched;\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Activates the breakpoint watcher, which fires an event on the window whenever the breakpoint changes.\r\n     * @function\r\n     * @private\r\n     */\r\n    _watcher: function () {\r\n      var _this = this;\r\n\r\n      $(window).on('resize.zf.mediaquery', function () {\r\n        var newSize = _this._getCurrentSize(),\r\n            currentSize = _this.current;\r\n\r\n        if (newSize !== currentSize) {\r\n          // Change the current media query\r\n          _this.current = newSize;\r\n\r\n          // Broadcast the media query change on the window\r\n          $(window).trigger('changed.zf.mediaquery', [newSize, currentSize]);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  Foundation.MediaQuery = MediaQuery;\r\n\r\n  // matchMedia() polyfill - Test a CSS media type/query in JS.\r\n  // Authors & copyright (c) 2012: Scott Jehl, Paul Irish, Nicholas Zakas, David Knight. Dual MIT/BSD license\r\n  window.matchMedia || (window.matchMedia = function () {\r\n    'use strict';\r\n\r\n    // For browsers that support matchMedium api such as IE 9 and webkit\r\n\r\n    var styleMedia = window.styleMedia || window.media;\r\n\r\n    // For those that don't support matchMedium\r\n    if (!styleMedia) {\r\n      var style = document.createElement('style'),\r\n          script = document.getElementsByTagName('script')[0],\r\n          info = null;\r\n\r\n      style.type = 'text/css';\r\n      style.id = 'matchmediajs-test';\r\n\r\n      script && script.parentNode && script.parentNode.insertBefore(style, script);\r\n\r\n      // 'style.currentStyle' is used by IE <= 8 and 'window.getComputedStyle' for all other browsers\r\n      info = 'getComputedStyle' in window && window.getComputedStyle(style, null) || style.currentStyle;\r\n\r\n      styleMedia = {\r\n        matchMedium: function (media) {\r\n          var text = '@media ' + media + '{ #matchmediajs-test { width: 1px; } }';\r\n\r\n          // 'style.styleSheet' is used by IE <= 8 and 'style.textContent' for all other browsers\r\n          if (style.styleSheet) {\r\n            style.styleSheet.cssText = text;\r\n          } else {\r\n            style.textContent = text;\r\n          }\r\n\r\n          // Test if media query is true or false\r\n          return info.width === '1px';\r\n        }\r\n      };\r\n    }\r\n\r\n    return function (media) {\r\n      return {\r\n        matches: styleMedia.matchMedium(media || 'all'),\r\n        media: media || 'all'\r\n      };\r\n    };\r\n  }());\r\n\r\n  // Thank you: https://github.com/sindresorhus/query-string\r\n  function parseStyleToObject(str) {\r\n    var styleObject = {};\r\n\r\n    if (typeof str !== 'string') {\r\n      return styleObject;\r\n    }\r\n\r\n    str = str.trim().slice(1, -1); // browsers re-quote string style values\r\n\r\n    if (!str) {\r\n      return styleObject;\r\n    }\r\n\r\n    styleObject = str.split('&').reduce(function (ret, param) {\r\n      var parts = param.replace(/\\+/g, ' ').split('=');\r\n      var key = parts[0];\r\n      var val = parts[1];\r\n      key = decodeURIComponent(key);\r\n\r\n      // missing `=` should be `null`:\r\n      // http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\r\n      val = val === undefined ? null : decodeURIComponent(val);\r\n\r\n      if (!ret.hasOwnProperty(key)) {\r\n        ret[key] = val;\r\n      } else if (Array.isArray(ret[key])) {\r\n        ret[key].push(val);\r\n      } else {\r\n        ret[key] = [ret[key], val];\r\n      }\r\n      return ret;\r\n    }, {});\r\n\r\n    return styleObject;\r\n  }\r\n\r\n  Foundation.MediaQuery = MediaQuery;\r\n}(jQuery);\r\n/*******************************************\r\n *                                         *\r\n * This util was created by Marius Olbertz *\r\n * Please thank Marius on GitHub /owlbertz *\r\n * or the web http://www.mariusolbertz.de/ *\r\n *                                         *\r\n ******************************************/\r\n\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  var keyCodes = {\r\n    9: 'TAB',\r\n    13: 'ENTER',\r\n    27: 'ESCAPE',\r\n    32: 'SPACE',\r\n    37: 'ARROW_LEFT',\r\n    38: 'ARROW_UP',\r\n    39: 'ARROW_RIGHT',\r\n    40: 'ARROW_DOWN'\r\n  };\r\n\r\n  var commands = {};\r\n\r\n  var Keyboard = {\r\n    keys: getKeyCodes(keyCodes),\r\n\r\n    /**\r\n     * Parses the (keyboard) event and returns a String that represents its key\r\n     * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\r\n     * @param {Event} event - the event generated by the event handler\r\n     * @return String key - String that represents the key pressed\r\n     */\r\n    parseKey: function (event) {\r\n      var key = keyCodes[event.which || event.keyCode] || String.fromCharCode(event.which).toUpperCase();\r\n\r\n      // Remove un-printable characters, e.g. for `fromCharCode` calls for CTRL only events\r\n      key = key.replace(/\\W+/, '');\r\n\r\n      if (event.shiftKey) key = 'SHIFT_' + key;\r\n      if (event.ctrlKey) key = 'CTRL_' + key;\r\n      if (event.altKey) key = 'ALT_' + key;\r\n\r\n      // Remove trailing underscore, in case only modifiers were used (e.g. only `CTRL_ALT`)\r\n      key = key.replace(/_$/, '');\r\n\r\n      return key;\r\n    },\r\n\r\n\r\n    /**\r\n     * Handles the given (keyboard) event\r\n     * @param {Event} event - the event generated by the event handler\r\n     * @param {String} component - Foundation component's name, e.g. Slider or Reveal\r\n     * @param {Objects} functions - collection of functions that are to be executed\r\n     */\r\n    handleKey: function (event, component, functions) {\r\n      var commandList = commands[component],\r\n          keyCode = this.parseKey(event),\r\n          cmds,\r\n          command,\r\n          fn;\r\n\r\n      if (!commandList) return console.warn('Component not defined!');\r\n\r\n      if (typeof commandList.ltr === 'undefined') {\r\n        // this component does not differentiate between ltr and rtl\r\n        cmds = commandList; // use plain list\r\n      } else {\r\n        // merge ltr and rtl: if document is rtl, rtl overwrites ltr and vice versa\r\n        if (Foundation.rtl()) cmds = $.extend({}, commandList.ltr, commandList.rtl);else cmds = $.extend({}, commandList.rtl, commandList.ltr);\r\n      }\r\n      command = cmds[keyCode];\r\n\r\n      fn = functions[command];\r\n      if (fn && typeof fn === 'function') {\r\n        // execute function  if exists\r\n        var returnValue = fn.apply();\r\n        if (functions.handled || typeof functions.handled === 'function') {\r\n          // execute function when event was handled\r\n          functions.handled(returnValue);\r\n        }\r\n      } else {\r\n        if (functions.unhandled || typeof functions.unhandled === 'function') {\r\n          // execute function when event was not handled\r\n          functions.unhandled();\r\n        }\r\n      }\r\n    },\r\n\r\n\r\n    /**\r\n     * Finds all focusable elements within the given `$element`\r\n     * @param {jQuery} $element - jQuery object to search within\r\n     * @return {jQuery} $focusable - all focusable elements within `$element`\r\n     */\r\n    findFocusable: function ($element) {\r\n      if (!$element) {\r\n        return false;\r\n      }\r\n      return $element.find('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[contenteditable]').filter(function () {\r\n        if (!$(this).is(':visible') || $(this).attr('tabindex') < 0) {\r\n          return false;\r\n        } //only have visible elements and those that have a tabindex greater or equal 0\r\n        return true;\r\n      });\r\n    },\r\n\r\n\r\n    /**\r\n     * Returns the component name name\r\n     * @param {Object} component - Foundation component, e.g. Slider or Reveal\r\n     * @return String componentName\r\n     */\r\n\r\n    register: function (componentName, cmds) {\r\n      commands[componentName] = cmds;\r\n    },\r\n\r\n\r\n    /**\r\n     * Traps the focus in the given element.\r\n     * @param  {jQuery} $element  jQuery object to trap the foucs into.\r\n     */\r\n    trapFocus: function ($element) {\r\n      var $focusable = Foundation.Keyboard.findFocusable($element),\r\n          $firstFocusable = $focusable.eq(0),\r\n          $lastFocusable = $focusable.eq(-1);\r\n\r\n      $element.on('keydown.zf.trapfocus', function (event) {\r\n        if (event.target === $lastFocusable[0] && Foundation.Keyboard.parseKey(event) === 'TAB') {\r\n          event.preventDefault();\r\n          $firstFocusable.focus();\r\n        } else if (event.target === $firstFocusable[0] && Foundation.Keyboard.parseKey(event) === 'SHIFT_TAB') {\r\n          event.preventDefault();\r\n          $lastFocusable.focus();\r\n        }\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Releases the trapped focus from the given element.\r\n     * @param  {jQuery} $element  jQuery object to release the focus for.\r\n     */\r\n    releaseFocus: function ($element) {\r\n      $element.off('keydown.zf.trapfocus');\r\n    }\r\n  };\r\n\r\n  /*\r\n   * Constants for easier comparing.\r\n   * Can be used like Foundation.parseKey(event) === Foundation.keys.SPACE\r\n   */\r\n  function getKeyCodes(kcs) {\r\n    var k = {};\r\n    for (var kc in kcs) {\r\n      k[kcs[kc]] = kcs[kc];\r\n    }return k;\r\n  }\r\n\r\n  Foundation.Keyboard = Keyboard;\r\n}(jQuery);\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  /**\r\n   * Motion module.\r\n   * @module foundation.motion\r\n   */\r\n\r\n  var initClasses = ['mui-enter', 'mui-leave'];\r\n  var activeClasses = ['mui-enter-active', 'mui-leave-active'];\r\n\r\n  var Motion = {\r\n    animateIn: function (element, animation, cb) {\r\n      animate(true, element, animation, cb);\r\n    },\r\n\r\n    animateOut: function (element, animation, cb) {\r\n      animate(false, element, animation, cb);\r\n    }\r\n  };\r\n\r\n  function Move(duration, elem, fn) {\r\n    var anim,\r\n        prog,\r\n        start = null;\r\n    // console.log('called');\r\n\r\n    if (duration === 0) {\r\n      fn.apply(elem);\r\n      elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\r\n      return;\r\n    }\r\n\r\n    function move(ts) {\r\n      if (!start) start = ts;\r\n      // console.log(start, ts);\r\n      prog = ts - start;\r\n      fn.apply(elem);\r\n\r\n      if (prog < duration) {\r\n        anim = window.requestAnimationFrame(move, elem);\r\n      } else {\r\n        window.cancelAnimationFrame(anim);\r\n        elem.trigger('finished.zf.animate', [elem]).triggerHandler('finished.zf.animate', [elem]);\r\n      }\r\n    }\r\n    anim = window.requestAnimationFrame(move);\r\n  }\r\n\r\n  /**\r\n   * Animates an element in or out using a CSS transition class.\r\n   * @function\r\n   * @private\r\n   * @param {Boolean} isIn - Defines if the animation is in or out.\r\n   * @param {Object} element - jQuery or HTML object to animate.\r\n   * @param {String} animation - CSS class to use.\r\n   * @param {Function} cb - Callback to run when animation is finished.\r\n   */\r\n  function animate(isIn, element, animation, cb) {\r\n    element = $(element).eq(0);\r\n\r\n    if (!element.length) return;\r\n\r\n    var initClass = isIn ? initClasses[0] : initClasses[1];\r\n    var activeClass = isIn ? activeClasses[0] : activeClasses[1];\r\n\r\n    // Set up the animation\r\n    reset();\r\n\r\n    element.addClass(animation).css('transition', 'none');\r\n\r\n    requestAnimationFrame(function () {\r\n      element.addClass(initClass);\r\n      if (isIn) element.show();\r\n    });\r\n\r\n    // Start the animation\r\n    requestAnimationFrame(function () {\r\n      element[0].offsetWidth;\r\n      element.css('transition', '').addClass(activeClass);\r\n    });\r\n\r\n    // Clean up the animation when it finishes\r\n    element.one(Foundation.transitionend(element), finish);\r\n\r\n    // Hides the element (for out animations), resets the element, and runs a callback\r\n    function finish() {\r\n      if (!isIn) element.hide();\r\n      reset();\r\n      if (cb) cb.apply(element);\r\n    }\r\n\r\n    // Resets transitions and removes motion-specific classes\r\n    function reset() {\r\n      element[0].style.transitionDuration = 0;\r\n      element.removeClass(initClass + ' ' + activeClass + ' ' + animation);\r\n    }\r\n  }\r\n\r\n  Foundation.Move = Move;\r\n  Foundation.Motion = Motion;\r\n}(jQuery);\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  var Nest = {\r\n    Feather: function (menu) {\r\n      var type = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 'zf';\r\n\r\n      menu.attr('role', 'menubar');\r\n\r\n      var items = menu.find('li').attr({ 'role': 'menuitem' }),\r\n          subMenuClass = 'is-' + type + '-submenu',\r\n          subItemClass = subMenuClass + '-item',\r\n          hasSubClass = 'is-' + type + '-submenu-parent';\r\n\r\n      items.each(function () {\r\n        var $item = $(this),\r\n            $sub = $item.children('ul');\r\n\r\n        if ($sub.length) {\r\n          $item.addClass(hasSubClass).attr({\r\n            'aria-haspopup': true,\r\n            'aria-label': $item.children('a:first').text()\r\n          });\r\n          // Note:  Drilldowns behave differently in how they hide, and so need\r\n          // additional attributes.  We should look if this possibly over-generalized\r\n          // utility (Nest) is appropriate when we rework menus in 6.4\r\n          if (type === 'drilldown') {\r\n            $item.attr({ 'aria-expanded': false });\r\n          }\r\n\r\n          $sub.addClass('submenu ' + subMenuClass).attr({\r\n            'data-submenu': '',\r\n            'role': 'menu'\r\n          });\r\n          if (type === 'drilldown') {\r\n            $sub.attr({ 'aria-hidden': true });\r\n          }\r\n        }\r\n\r\n        if ($item.parent('[data-submenu]').length) {\r\n          $item.addClass('is-submenu-item ' + subItemClass);\r\n        }\r\n      });\r\n\r\n      return;\r\n    },\r\n    Burn: function (menu, type) {\r\n      var //items = menu.find('li'),\r\n      subMenuClass = 'is-' + type + '-submenu',\r\n          subItemClass = subMenuClass + '-item',\r\n          hasSubClass = 'is-' + type + '-submenu-parent';\r\n\r\n      menu.find('>li, .menu, .menu > li').removeClass(subMenuClass + ' ' + subItemClass + ' ' + hasSubClass + ' is-submenu-item submenu is-active').removeAttr('data-submenu').css('display', '');\r\n\r\n      // console.log(      menu.find('.' + subMenuClass + ', .' + subItemClass + ', .has-submenu, .is-submenu-item, .submenu, [data-submenu]')\r\n      //           .removeClass(subMenuClass + ' ' + subItemClass + ' has-submenu is-submenu-item submenu')\r\n      //           .removeAttr('data-submenu'));\r\n      // items.each(function(){\r\n      //   var $item = $(this),\r\n      //       $sub = $item.children('ul');\r\n      //   if($item.parent('[data-submenu]').length){\r\n      //     $item.removeClass('is-submenu-item ' + subItemClass);\r\n      //   }\r\n      //   if($sub.length){\r\n      //     $item.removeClass('has-submenu');\r\n      //     $sub.removeClass('submenu ' + subMenuClass).removeAttr('data-submenu');\r\n      //   }\r\n      // });\r\n    }\r\n  };\r\n\r\n  Foundation.Nest = Nest;\r\n}(jQuery);\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  Foundation.Box = {\r\n    ImNotTouchingYou: ImNotTouchingYou,\r\n    GetDimensions: GetDimensions,\r\n    GetOffsets: GetOffsets\r\n  };\r\n\r\n  /**\r\n   * Compares the dimensions of an element to a container and determines collision events with container.\r\n   * @function\r\n   * @param {jQuery} element - jQuery object to test for collisions.\r\n   * @param {jQuery} parent - jQuery object to use as bounding container.\r\n   * @param {Boolean} lrOnly - set to true to check left and right values only.\r\n   * @param {Boolean} tbOnly - set to true to check top and bottom values only.\r\n   * @default if no parent object passed, detects collisions with `window`.\r\n   * @returns {Boolean} - true if collision free, false if a collision in any direction.\r\n   */\r\n  function ImNotTouchingYou(element, parent, lrOnly, tbOnly) {\r\n    var eleDims = GetDimensions(element),\r\n        top,\r\n        bottom,\r\n        left,\r\n        right;\r\n\r\n    if (parent) {\r\n      var parDims = GetDimensions(parent);\r\n\r\n      bottom = eleDims.offset.top + eleDims.height <= parDims.height + parDims.offset.top;\r\n      top = eleDims.offset.top >= parDims.offset.top;\r\n      left = eleDims.offset.left >= parDims.offset.left;\r\n      right = eleDims.offset.left + eleDims.width <= parDims.width + parDims.offset.left;\r\n    } else {\r\n      bottom = eleDims.offset.top + eleDims.height <= eleDims.windowDims.height + eleDims.windowDims.offset.top;\r\n      top = eleDims.offset.top >= eleDims.windowDims.offset.top;\r\n      left = eleDims.offset.left >= eleDims.windowDims.offset.left;\r\n      right = eleDims.offset.left + eleDims.width <= eleDims.windowDims.width;\r\n    }\r\n\r\n    var allDirs = [bottom, top, left, right];\r\n\r\n    if (lrOnly) {\r\n      return left === right === true;\r\n    }\r\n\r\n    if (tbOnly) {\r\n      return top === bottom === true;\r\n    }\r\n\r\n    return allDirs.indexOf(false) === -1;\r\n  };\r\n\r\n  /**\r\n   * Uses native methods to return an object of dimension values.\r\n   * @function\r\n   * @param {jQuery || HTML} element - jQuery object or DOM element for which to get the dimensions. Can be any element other that document or window.\r\n   * @returns {Object} - nested object of integer pixel values\r\n   * TODO - if element is window, return only those values.\r\n   */\r\n  function GetDimensions(elem, test) {\r\n    elem = elem.length ? elem[0] : elem;\r\n\r\n    if (elem === window || elem === document) {\r\n      throw new Error(\"I'm sorry, Dave. I'm afraid I can't do that.\");\r\n    }\r\n\r\n    var rect = elem.getBoundingClientRect(),\r\n        parRect = elem.parentNode.getBoundingClientRect(),\r\n        winRect = document.body.getBoundingClientRect(),\r\n        winY = window.pageYOffset,\r\n        winX = window.pageXOffset;\r\n\r\n    return {\r\n      width: rect.width,\r\n      height: rect.height,\r\n      offset: {\r\n        top: rect.top + winY,\r\n        left: rect.left + winX\r\n      },\r\n      parentDims: {\r\n        width: parRect.width,\r\n        height: parRect.height,\r\n        offset: {\r\n          top: parRect.top + winY,\r\n          left: parRect.left + winX\r\n        }\r\n      },\r\n      windowDims: {\r\n        width: winRect.width,\r\n        height: winRect.height,\r\n        offset: {\r\n          top: winY,\r\n          left: winX\r\n        }\r\n      }\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Returns an object of top and left integer pixel values for dynamically rendered elements,\r\n   * such as: Tooltip, Reveal, and Dropdown\r\n   * @function\r\n   * @param {jQuery} element - jQuery object for the element being positioned.\r\n   * @param {jQuery} anchor - jQuery object for the element's anchor point.\r\n   * @param {String} position - a string relating to the desired position of the element, relative to it's anchor\r\n   * @param {Number} vOffset - integer pixel value of desired vertical separation between anchor and element.\r\n   * @param {Number} hOffset - integer pixel value of desired horizontal separation between anchor and element.\r\n   * @param {Boolean} isOverflow - if a collision event is detected, sets to true to default the element to full width - any desired offset.\r\n   * TODO alter/rewrite to work with `em` values as well/instead of pixels\r\n   */\r\n  function GetOffsets(element, anchor, position, vOffset, hOffset, isOverflow) {\r\n    var $eleDims = GetDimensions(element),\r\n        $anchorDims = anchor ? GetDimensions(anchor) : null;\r\n\r\n    switch (position) {\r\n      case 'top':\r\n        return {\r\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left,\r\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\r\n        };\r\n        break;\r\n      case 'left':\r\n        return {\r\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\r\n          top: $anchorDims.offset.top\r\n        };\r\n        break;\r\n      case 'right':\r\n        return {\r\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset,\r\n          top: $anchorDims.offset.top\r\n        };\r\n        break;\r\n      case 'center top':\r\n        return {\r\n          left: $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\r\n          top: $anchorDims.offset.top - ($eleDims.height + vOffset)\r\n        };\r\n        break;\r\n      case 'center bottom':\r\n        return {\r\n          left: isOverflow ? hOffset : $anchorDims.offset.left + $anchorDims.width / 2 - $eleDims.width / 2,\r\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n        };\r\n        break;\r\n      case 'center left':\r\n        return {\r\n          left: $anchorDims.offset.left - ($eleDims.width + hOffset),\r\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\r\n        };\r\n        break;\r\n      case 'center right':\r\n        return {\r\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset + 1,\r\n          top: $anchorDims.offset.top + $anchorDims.height / 2 - $eleDims.height / 2\r\n        };\r\n        break;\r\n      case 'center':\r\n        return {\r\n          left: $eleDims.windowDims.offset.left + $eleDims.windowDims.width / 2 - $eleDims.width / 2,\r\n          top: $eleDims.windowDims.offset.top + $eleDims.windowDims.height / 2 - $eleDims.height / 2\r\n        };\r\n        break;\r\n      case 'reveal':\r\n        return {\r\n          left: ($eleDims.windowDims.width - $eleDims.width) / 2,\r\n          top: $eleDims.windowDims.offset.top + vOffset\r\n        };\r\n      case 'reveal full':\r\n        return {\r\n          left: $eleDims.windowDims.offset.left,\r\n          top: $eleDims.windowDims.offset.top\r\n        };\r\n        break;\r\n      case 'left bottom':\r\n        return {\r\n          left: $anchorDims.offset.left,\r\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n        };\r\n        break;\r\n      case 'right bottom':\r\n        return {\r\n          left: $anchorDims.offset.left + $anchorDims.width + hOffset - $eleDims.width,\r\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n        };\r\n        break;\r\n      default:\r\n        return {\r\n          left: Foundation.rtl() ? $anchorDims.offset.left - $eleDims.width + $anchorDims.width : $anchorDims.offset.left + hOffset,\r\n          top: $anchorDims.offset.top + $anchorDims.height + vOffset\r\n        };\r\n    }\r\n  }\r\n}(jQuery);\r\n'use strict';\r\n\r\n!function ($) {\r\n\r\n  var MutationObserver = function () {\r\n    var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\r\n    for (var i = 0; i < prefixes.length; i++) {\r\n      if (prefixes[i] + 'MutationObserver' in window) {\r\n        return window[prefixes[i] + 'MutationObserver'];\r\n      }\r\n    }\r\n    return false;\r\n  }();\r\n\r\n  var triggers = function (el, type) {\r\n    el.data(type).split(' ').forEach(function (id) {\r\n      $('#' + id)[type === 'close' ? 'trigger' : 'triggerHandler'](type + '.zf.trigger', [el]);\r\n    });\r\n  };\r\n  // Elements with [data-open] will reveal a plugin that supports it when clicked.\r\n  $(document).on('click.zf.trigger', '[data-open]', function () {\r\n    triggers($(this), 'open');\r\n  });\r\n\r\n  // Elements with [data-close] will close a plugin that supports it when clicked.\r\n  // If used without a value on [data-close], the event will bubble, allowing it to close a parent component.\r\n  $(document).on('click.zf.trigger', '[data-close]', function () {\r\n    var id = $(this).data('close');\r\n    if (id) {\r\n      triggers($(this), 'close');\r\n    } else {\r\n      $(this).trigger('close.zf.trigger');\r\n    }\r\n  });\r\n\r\n  // Elements with [data-toggle] will toggle a plugin that supports it when clicked.\r\n  $(document).on('click.zf.trigger', '[data-toggle]', function () {\r\n    var id = $(this).data('toggle');\r\n    if (id) {\r\n      triggers($(this), 'toggle');\r\n    } else {\r\n      $(this).trigger('toggle.zf.trigger');\r\n    }\r\n  });\r\n\r\n  // Elements with [data-closable] will respond to close.zf.trigger events.\r\n  $(document).on('close.zf.trigger', '[data-closable]', function (e) {\r\n    e.stopPropagation();\r\n    var animation = $(this).data('closable');\r\n\r\n    if (animation !== '') {\r\n      Foundation.Motion.animateOut($(this), animation, function () {\r\n        $(this).trigger('closed.zf');\r\n      });\r\n    } else {\r\n      $(this).fadeOut().trigger('closed.zf');\r\n    }\r\n  });\r\n\r\n  $(document).on('focus.zf.trigger blur.zf.trigger', '[data-toggle-focus]', function () {\r\n    var id = $(this).data('toggle-focus');\r\n    $('#' + id).triggerHandler('toggle.zf.trigger', [$(this)]);\r\n  });\r\n\r\n  /**\r\n  * Fires once after all other scripts have loaded\r\n  * @function\r\n  * @private\r\n  */\r\n  $(window).on('load', function () {\r\n    checkListeners();\r\n  });\r\n\r\n  function checkListeners() {\r\n    eventsListener();\r\n    resizeListener();\r\n    scrollListener();\r\n    mutateListener();\r\n    closemeListener();\r\n  }\r\n\r\n  //******** only fires this function once on load, if there's something to watch ********\r\n  function closemeListener(pluginName) {\r\n    var yetiBoxes = $('[data-yeti-box]'),\r\n        plugNames = ['dropdown', 'tooltip', 'reveal'];\r\n\r\n    if (pluginName) {\r\n      if (typeof pluginName === 'string') {\r\n        plugNames.push(pluginName);\r\n      } else if (typeof pluginName === 'object' && typeof pluginName[0] === 'string') {\r\n        plugNames.concat(pluginName);\r\n      } else {\r\n        console.error('Plugin names must be strings');\r\n      }\r\n    }\r\n    if (yetiBoxes.length) {\r\n      var listeners = plugNames.map(function (name) {\r\n        return 'closeme.zf.' + name;\r\n      }).join(' ');\r\n\r\n      $(window).off(listeners).on(listeners, function (e, pluginId) {\r\n        var plugin = e.namespace.split('.')[0];\r\n        var plugins = $('[data-' + plugin + ']').not('[data-yeti-box=\"' + pluginId + '\"]');\r\n\r\n        plugins.each(function () {\r\n          var _this = $(this);\r\n\r\n          _this.triggerHandler('close.zf.trigger', [_this]);\r\n        });\r\n      });\r\n    }\r\n  }\r\n\r\n  function resizeListener(debounce) {\r\n    var timer = void 0,\r\n        $nodes = $('[data-resize]');\r\n    if ($nodes.length) {\r\n      $(window).off('resize.zf.trigger').on('resize.zf.trigger', function (e) {\r\n        if (timer) {\r\n          clearTimeout(timer);\r\n        }\r\n\r\n        timer = setTimeout(function () {\r\n\r\n          if (!MutationObserver) {\r\n            //fallback for IE 9\r\n            $nodes.each(function () {\r\n              $(this).triggerHandler('resizeme.zf.trigger');\r\n            });\r\n          }\r\n          //trigger all listening elements and signal a resize event\r\n          $nodes.attr('data-events', \"resize\");\r\n        }, debounce || 10); //default time to emit resize event\r\n      });\r\n    }\r\n  }\r\n\r\n  function scrollListener(debounce) {\r\n    var timer = void 0,\r\n        $nodes = $('[data-scroll]');\r\n    if ($nodes.length) {\r\n      $(window).off('scroll.zf.trigger').on('scroll.zf.trigger', function (e) {\r\n        if (timer) {\r\n          clearTimeout(timer);\r\n        }\r\n\r\n        timer = setTimeout(function () {\r\n\r\n          if (!MutationObserver) {\r\n            //fallback for IE 9\r\n            $nodes.each(function () {\r\n              $(this).triggerHandler('scrollme.zf.trigger');\r\n            });\r\n          }\r\n          //trigger all listening elements and signal a scroll event\r\n          $nodes.attr('data-events', \"scroll\");\r\n        }, debounce || 10); //default time to emit scroll event\r\n      });\r\n    }\r\n  }\r\n\r\n  function mutateListener(debounce) {\r\n    var $nodes = $('[data-mutate]');\r\n    if ($nodes.length && MutationObserver) {\r\n      //trigger all listening elements and signal a mutate event\r\n      //no IE 9 or 10\r\n      $nodes.each(function () {\r\n        $(this).triggerHandler('mutateme.zf.trigger');\r\n      });\r\n    }\r\n  }\r\n\r\n  function eventsListener() {\r\n    if (!MutationObserver) {\r\n      return false;\r\n    }\r\n    var nodes = document.querySelectorAll('[data-resize], [data-scroll], [data-mutate]');\r\n\r\n    //element callback\r\n    var listeningElementsMutation = function (mutationRecordsList) {\r\n      var $target = $(mutationRecordsList[0].target);\r\n\r\n      //trigger the event handler for the element depending on type\r\n      switch (mutationRecordsList[0].type) {\r\n\r\n        case \"attributes\":\r\n          if ($target.attr(\"data-events\") === \"scroll\" && mutationRecordsList[0].attributeName === \"data-events\") {\r\n            $target.triggerHandler('scrollme.zf.trigger', [$target, window.pageYOffset]);\r\n          }\r\n          if ($target.attr(\"data-events\") === \"resize\" && mutationRecordsList[0].attributeName === \"data-events\") {\r\n            $target.triggerHandler('resizeme.zf.trigger', [$target]);\r\n          }\r\n          if (mutationRecordsList[0].attributeName === \"style\") {\r\n            $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\r\n            $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\r\n          }\r\n          break;\r\n\r\n        case \"childList\":\r\n          $target.closest(\"[data-mutate]\").attr(\"data-events\", \"mutate\");\r\n          $target.closest(\"[data-mutate]\").triggerHandler('mutateme.zf.trigger', [$target.closest(\"[data-mutate]\")]);\r\n          break;\r\n\r\n        default:\r\n          return false;\r\n        //nothing\r\n      }\r\n    };\r\n\r\n    if (nodes.length) {\r\n      //for each element that needs to listen for resizing, scrolling, or mutation add a single observer\r\n      for (var i = 0; i <= nodes.length - 1; i++) {\r\n        var elementObserver = new MutationObserver(listeningElementsMutation);\r\n        elementObserver.observe(nodes[i], { attributes: true, childList: true, characterData: false, subtree: true, attributeFilter: [\"data-events\", \"style\"] });\r\n      }\r\n    }\r\n  }\r\n\r\n  // ------------------------------------\r\n\r\n  // [PH]\r\n  // Foundation.CheckWatchers = checkWatchers;\r\n  Foundation.IHearYou = checkListeners;\r\n  // Foundation.ISeeYou = scrollListener;\r\n  // Foundation.IFeelYou = closemeListener;\r\n}(jQuery);\r\n\r\n// function domMutationObserver(debounce) {\r\n//   // !!! This is coming soon and needs more work; not active  !!! //\r\n//   var timer,\r\n//   nodes = document.querySelectorAll('[data-mutate]');\r\n//   //\r\n//   if (nodes.length) {\r\n//     // var MutationObserver = (function () {\r\n//     //   var prefixes = ['WebKit', 'Moz', 'O', 'Ms', ''];\r\n//     //   for (var i=0; i < prefixes.length; i++) {\r\n//     //     if (prefixes[i] + 'MutationObserver' in window) {\r\n//     //       return window[prefixes[i] + 'MutationObserver'];\r\n//     //     }\r\n//     //   }\r\n//     //   return false;\r\n//     // }());\r\n//\r\n//\r\n//     //for the body, we need to listen for all changes effecting the style and class attributes\r\n//     var bodyObserver = new MutationObserver(bodyMutation);\r\n//     bodyObserver.observe(document.body, { attributes: true, childList: true, characterData: false, subtree:true, attributeFilter:[\"style\", \"class\"]});\r\n//\r\n//\r\n//     //body callback\r\n//     function bodyMutation(mutate) {\r\n//       //trigger all listening elements and signal a mutation event\r\n//       if (timer) { clearTimeout(timer); }\r\n//\r\n//       timer = setTimeout(function() {\r\n//         bodyObserver.disconnect();\r\n//         $('[data-mutate]').attr('data-events',\"mutate\");\r\n//       }, debounce || 150);\r\n//     }\r\n//   }\r\n// }\r\n'use strict';\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n!function ($) {\r\n\r\n  /**\r\n   * Drilldown module.\r\n   * @module foundation.drilldown\r\n   * @requires foundation.util.keyboard\r\n   * @requires foundation.util.motion\r\n   * @requires foundation.util.nest\r\n   */\r\n\r\n  var Drilldown = function () {\r\n    /**\r\n     * Creates a new instance of a drilldown menu.\r\n     * @class\r\n     * @param {jQuery} element - jQuery object to make into an accordion menu.\r\n     * @param {Object} options - Overrides to the default plugin settings.\r\n     */\r\n    function Drilldown(element, options) {\r\n      _classCallCheck(this, Drilldown);\r\n\r\n      this.$element = element;\r\n      this.options = $.extend({}, Drilldown.defaults, this.$element.data(), options);\r\n\r\n      Foundation.Nest.Feather(this.$element, 'drilldown');\r\n\r\n      this._init();\r\n\r\n      Foundation.registerPlugin(this, 'Drilldown');\r\n      Foundation.Keyboard.register('Drilldown', {\r\n        'ENTER': 'open',\r\n        'SPACE': 'open',\r\n        'ARROW_RIGHT': 'next',\r\n        'ARROW_UP': 'up',\r\n        'ARROW_DOWN': 'down',\r\n        'ARROW_LEFT': 'previous',\r\n        'ESCAPE': 'close',\r\n        'TAB': 'down',\r\n        'SHIFT_TAB': 'up'\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Initializes the drilldown by creating jQuery collections of elements\r\n     * @private\r\n     */\r\n\r\n\r\n    _createClass(Drilldown, [{\r\n      key: '_init',\r\n      value: function _init() {\r\n        this.$submenuAnchors = this.$element.find('li.is-drilldown-submenu-parent').children('a');\r\n        this.$submenus = this.$submenuAnchors.parent('li').children('[data-submenu]');\r\n        this.$menuItems = this.$element.find('li').not('.js-drilldown-back').attr('role', 'menuitem').find('a');\r\n        this.$element.attr('data-mutate', this.$element.attr('data-drilldown') || Foundation.GetYoDigits(6, 'drilldown'));\r\n\r\n        this._prepareMenu();\r\n        this._registerEvents();\r\n\r\n        this._keyboardEvents();\r\n      }\r\n\r\n      /**\r\n       * prepares drilldown menu by setting attributes to links and elements\r\n       * sets a min height to prevent content jumping\r\n       * wraps the element if not already wrapped\r\n       * @private\r\n       * @function\r\n       */\r\n\r\n    }, {\r\n      key: '_prepareMenu',\r\n      value: function _prepareMenu() {\r\n        var _this = this;\r\n        // if(!this.options.holdOpen){\r\n        //   this._menuLinkEvents();\r\n        // }\r\n        this.$submenuAnchors.each(function () {\r\n          var $link = $(this);\r\n          var $sub = $link.parent();\r\n          if (_this.options.parentLink) {\r\n            $link.clone().prependTo($sub.children('[data-submenu]')).wrap('<li class=\"is-submenu-parent-item is-submenu-item is-drilldown-submenu-item\" role=\"menu-item\"></li>');\r\n          }\r\n          $link.data('savedHref', $link.attr('href')).removeAttr('href').attr('tabindex', 0);\r\n          $link.children('[data-submenu]').attr({\r\n            'aria-hidden': true,\r\n            'tabindex': 0,\r\n            'role': 'menu'\r\n          });\r\n          _this._events($link);\r\n        });\r\n        this.$submenus.each(function () {\r\n          var $menu = $(this),\r\n              $back = $menu.find('.js-drilldown-back');\r\n          if (!$back.length) {\r\n            switch (_this.options.backButtonPosition) {\r\n              case \"bottom\":\r\n                $menu.append(_this.options.backButton);\r\n                break;\r\n              case \"top\":\r\n                $menu.prepend(_this.options.backButton);\r\n                break;\r\n              default:\r\n                console.error(\"Unsupported backButtonPosition value '\" + _this.options.backButtonPosition + \"'\");\r\n            }\r\n          }\r\n          _this._back($menu);\r\n        });\r\n\r\n        this.$submenus.addClass('invisible');\r\n        if (!this.options.autoHeight) {\r\n          this.$submenus.addClass('drilldown-submenu-cover-previous');\r\n        }\r\n\r\n        // create a wrapper on element if it doesn't exist.\r\n        if (!this.$element.parent().hasClass('is-drilldown')) {\r\n          this.$wrapper = $(this.options.wrapper).addClass('is-drilldown');\r\n          if (this.options.animateHeight) this.$wrapper.addClass('animate-height');\r\n          this.$element.wrap(this.$wrapper);\r\n        }\r\n        // set wrapper\r\n        this.$wrapper = this.$element.parent();\r\n        this.$wrapper.css(this._getMaxDims());\r\n      }\r\n    }, {\r\n      key: '_resize',\r\n      value: function _resize() {\r\n        this.$wrapper.css({ 'max-width': 'none', 'min-height': 'none' });\r\n        // _getMaxDims has side effects (boo) but calling it should update all other necessary heights & widths\r\n        this.$wrapper.css(this._getMaxDims());\r\n      }\r\n\r\n      /**\r\n       * Adds event handlers to elements in the menu.\r\n       * @function\r\n       * @private\r\n       * @param {jQuery} $elem - the current menu item to add handlers to.\r\n       */\r\n\r\n    }, {\r\n      key: '_events',\r\n      value: function _events($elem) {\r\n        var _this = this;\r\n\r\n        $elem.off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\r\n          if ($(e.target).parentsUntil('ul', 'li').hasClass('is-drilldown-submenu-parent')) {\r\n            e.stopImmediatePropagation();\r\n            e.preventDefault();\r\n          }\r\n\r\n          // if(e.target !== e.currentTarget.firstElementChild){\r\n          //   return false;\r\n          // }\r\n          _this._show($elem.parent('li'));\r\n\r\n          if (_this.options.closeOnClick) {\r\n            var $body = $('body');\r\n            $body.off('.zf.drilldown').on('click.zf.drilldown', function (e) {\r\n              if (e.target === _this.$element[0] || $.contains(_this.$element[0], e.target)) {\r\n                return;\r\n              }\r\n              e.preventDefault();\r\n              _this._hideAll();\r\n              $body.off('.zf.drilldown');\r\n            });\r\n          }\r\n        });\r\n        this.$element.on('mutateme.zf.trigger', this._resize.bind(this));\r\n      }\r\n\r\n      /**\r\n       * Adds event handlers to the menu element.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_registerEvents',\r\n      value: function _registerEvents() {\r\n        if (this.options.scrollTop) {\r\n          this._bindHandler = this._scrollTop.bind(this);\r\n          this.$element.on('open.zf.drilldown hide.zf.drilldown closed.zf.drilldown', this._bindHandler);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Scroll to Top of Element or data-scroll-top-element\r\n       * @function\r\n       * @fires Drilldown#scrollme\r\n       */\r\n\r\n    }, {\r\n      key: '_scrollTop',\r\n      value: function _scrollTop() {\r\n        var _this = this;\r\n        var $scrollTopElement = _this.options.scrollTopElement != '' ? $(_this.options.scrollTopElement) : _this.$element,\r\n            scrollPos = parseInt($scrollTopElement.offset().top + _this.options.scrollTopOffset);\r\n        $('html, body').stop(true).animate({ scrollTop: scrollPos }, _this.options.animationDuration, _this.options.animationEasing, function () {\r\n          /**\r\n            * Fires after the menu has scrolled\r\n            * @event Drilldown#scrollme\r\n            */\r\n          if (this === $('html')[0]) _this.$element.trigger('scrollme.zf.drilldown');\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Adds keydown event listener to `li`'s in the menu.\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_keyboardEvents',\r\n      value: function _keyboardEvents() {\r\n        var _this = this;\r\n\r\n        this.$menuItems.add(this.$element.find('.js-drilldown-back > a, .is-submenu-parent-item > a')).on('keydown.zf.drilldown', function (e) {\r\n          var $element = $(this),\r\n              $elements = $element.parent('li').parent('ul').children('li').children('a'),\r\n              $prevElement,\r\n              $nextElement;\r\n\r\n          $elements.each(function (i) {\r\n            if ($(this).is($element)) {\r\n              $prevElement = $elements.eq(Math.max(0, i - 1));\r\n              $nextElement = $elements.eq(Math.min(i + 1, $elements.length - 1));\r\n              return;\r\n            }\r\n          });\r\n\r\n          Foundation.Keyboard.handleKey(e, 'Drilldown', {\r\n            next: function () {\r\n              if ($element.is(_this.$submenuAnchors)) {\r\n                _this._show($element.parent('li'));\r\n                $element.parent('li').one(Foundation.transitionend($element), function () {\r\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\r\n                });\r\n                return true;\r\n              }\r\n            },\r\n            previous: function () {\r\n              _this._hide($element.parent('li').parent('ul'));\r\n              $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\r\n                setTimeout(function () {\r\n                  $element.parent('li').parent('ul').parent('li').children('a').first().focus();\r\n                }, 1);\r\n              });\r\n              return true;\r\n            },\r\n            up: function () {\r\n              $prevElement.focus();\r\n              // Don't tap focus on first element in root ul\r\n              return !$element.is(_this.$element.find('> li:first-child > a'));\r\n            },\r\n            down: function () {\r\n              $nextElement.focus();\r\n              // Don't tap focus on last element in root ul\r\n              return !$element.is(_this.$element.find('> li:last-child > a'));\r\n            },\r\n            close: function () {\r\n              // Don't close on element in root ul\r\n              if (!$element.is(_this.$element.find('> li > a'))) {\r\n                _this._hide($element.parent().parent());\r\n                $element.parent().parent().siblings('a').focus();\r\n              }\r\n            },\r\n            open: function () {\r\n              if (!$element.is(_this.$menuItems)) {\r\n                // not menu item means back button\r\n                _this._hide($element.parent('li').parent('ul'));\r\n                $element.parent('li').parent('ul').one(Foundation.transitionend($element), function () {\r\n                  setTimeout(function () {\r\n                    $element.parent('li').parent('ul').parent('li').children('a').first().focus();\r\n                  }, 1);\r\n                });\r\n                return true;\r\n              } else if ($element.is(_this.$submenuAnchors)) {\r\n                _this._show($element.parent('li'));\r\n                $element.parent('li').one(Foundation.transitionend($element), function () {\r\n                  $element.parent('li').find('ul li a').filter(_this.$menuItems).first().focus();\r\n                });\r\n                return true;\r\n              }\r\n            },\r\n            handled: function (preventDefault) {\r\n              if (preventDefault) {\r\n                e.preventDefault();\r\n              }\r\n              e.stopImmediatePropagation();\r\n            }\r\n          });\r\n        }); // end keyboardAccess\r\n      }\r\n\r\n      /**\r\n       * Closes all open elements, and returns to root menu.\r\n       * @function\r\n       * @fires Drilldown#closed\r\n       */\r\n\r\n    }, {\r\n      key: '_hideAll',\r\n      value: function _hideAll() {\r\n        var $elem = this.$element.find('.is-drilldown-submenu.is-active').addClass('is-closing');\r\n        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.parent().closest('ul').data('calcHeight') });\r\n        $elem.one(Foundation.transitionend($elem), function (e) {\r\n          $elem.removeClass('is-active is-closing');\r\n        });\r\n        /**\r\n         * Fires when the menu is fully closed.\r\n         * @event Drilldown#closed\r\n         */\r\n        this.$element.trigger('closed.zf.drilldown');\r\n      }\r\n\r\n      /**\r\n       * Adds event listener for each `back` button, and closes open menus.\r\n       * @function\r\n       * @fires Drilldown#back\r\n       * @param {jQuery} $elem - the current sub-menu to add `back` event.\r\n       */\r\n\r\n    }, {\r\n      key: '_back',\r\n      value: function _back($elem) {\r\n        var _this = this;\r\n        $elem.off('click.zf.drilldown');\r\n        $elem.children('.js-drilldown-back').on('click.zf.drilldown', function (e) {\r\n          e.stopImmediatePropagation();\r\n          // console.log('mouseup on back');\r\n          _this._hide($elem);\r\n\r\n          // If there is a parent submenu, call show\r\n          var parentSubMenu = $elem.parent('li').parent('ul').parent('li');\r\n          if (parentSubMenu.length) {\r\n            _this._show(parentSubMenu);\r\n          }\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Adds event listener to menu items w/o submenus to close open menus on click.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_menuLinkEvents',\r\n      value: function _menuLinkEvents() {\r\n        var _this = this;\r\n        this.$menuItems.not('.is-drilldown-submenu-parent').off('click.zf.drilldown').on('click.zf.drilldown', function (e) {\r\n          // e.stopImmediatePropagation();\r\n          setTimeout(function () {\r\n            _this._hideAll();\r\n          }, 0);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Opens a submenu.\r\n       * @function\r\n       * @fires Drilldown#open\r\n       * @param {jQuery} $elem - the current element with a submenu to open, i.e. the `li` tag.\r\n       */\r\n\r\n    }, {\r\n      key: '_show',\r\n      value: function _show($elem) {\r\n        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.children('[data-submenu]').data('calcHeight') });\r\n        $elem.attr('aria-expanded', true);\r\n        $elem.children('[data-submenu]').addClass('is-active').removeClass('invisible').attr('aria-hidden', false);\r\n        /**\r\n         * Fires when the submenu has opened.\r\n         * @event Drilldown#open\r\n         */\r\n        this.$element.trigger('open.zf.drilldown', [$elem]);\r\n      }\r\n    }, {\r\n      key: '_hide',\r\n\r\n\r\n      /**\r\n       * Hides a submenu\r\n       * @function\r\n       * @fires Drilldown#hide\r\n       * @param {jQuery} $elem - the current sub-menu to hide, i.e. the `ul` tag.\r\n       */\r\n      value: function _hide($elem) {\r\n        if (this.options.autoHeight) this.$wrapper.css({ height: $elem.parent().closest('ul').data('calcHeight') });\r\n        var _this = this;\r\n        $elem.parent('li').attr('aria-expanded', false);\r\n        $elem.attr('aria-hidden', true).addClass('is-closing');\r\n        $elem.addClass('is-closing').one(Foundation.transitionend($elem), function () {\r\n          $elem.removeClass('is-active is-closing');\r\n          $elem.blur().addClass('invisible');\r\n        });\r\n        /**\r\n         * Fires when the submenu has closed.\r\n         * @event Drilldown#hide\r\n         */\r\n        $elem.trigger('hide.zf.drilldown', [$elem]);\r\n      }\r\n\r\n      /**\r\n       * Iterates through the nested menus to calculate the min-height, and max-width for the menu.\r\n       * Prevents content jumping.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_getMaxDims',\r\n      value: function _getMaxDims() {\r\n        var maxHeight = 0,\r\n            result = {},\r\n            _this = this;\r\n        this.$submenus.add(this.$element).each(function () {\r\n          var numOfElems = $(this).children('li').length;\r\n          var height = Foundation.Box.GetDimensions(this).height;\r\n          maxHeight = height > maxHeight ? height : maxHeight;\r\n          if (_this.options.autoHeight) {\r\n            $(this).data('calcHeight', height);\r\n            if (!$(this).hasClass('is-drilldown-submenu')) result['height'] = height;\r\n          }\r\n        });\r\n\r\n        if (!this.options.autoHeight) result['min-height'] = maxHeight + 'px';\r\n\r\n        result['max-width'] = this.$element[0].getBoundingClientRect().width + 'px';\r\n\r\n        return result;\r\n      }\r\n\r\n      /**\r\n       * Destroys the Drilldown Menu\r\n       * @function\r\n       */\r\n\r\n    }, {\r\n      key: 'destroy',\r\n      value: function destroy() {\r\n        if (this.options.scrollTop) this.$element.off('.zf.drilldown', this._bindHandler);\r\n        this._hideAll();\r\n        this.$element.off('mutateme.zf.trigger');\r\n        Foundation.Nest.Burn(this.$element, 'drilldown');\r\n        this.$element.unwrap().find('.js-drilldown-back, .is-submenu-parent-item').remove().end().find('.is-active, .is-closing, .is-drilldown-submenu').removeClass('is-active is-closing is-drilldown-submenu').end().find('[data-submenu]').removeAttr('aria-hidden tabindex role');\r\n        this.$submenuAnchors.each(function () {\r\n          $(this).off('.zf.drilldown');\r\n        });\r\n\r\n        this.$submenus.removeClass('drilldown-submenu-cover-previous');\r\n\r\n        this.$element.find('a').each(function () {\r\n          var $link = $(this);\r\n          $link.removeAttr('tabindex');\r\n          if ($link.data('savedHref')) {\r\n            $link.attr('href', $link.data('savedHref')).removeData('savedHref');\r\n          } else {\r\n            return;\r\n          }\r\n        });\r\n        Foundation.unregisterPlugin(this);\r\n      }\r\n    }]);\r\n\r\n    return Drilldown;\r\n  }();\r\n\r\n  Drilldown.defaults = {\r\n    /**\r\n     * Markup used for JS generated back button. Prepended  or appended (see backButtonPosition) to submenu lists and deleted on `destroy` method, 'js-drilldown-back' class required. Remove the backslash (`\\`) if copy and pasting.\r\n     * @option\r\n     * @type {string}\r\n     * @default '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>'\r\n     */\r\n    backButton: '<li class=\"js-drilldown-back\"><a tabindex=\"0\">Back</a></li>',\r\n    /**\r\n     * Position the back button either at the top or bottom of drilldown submenus. Can be `'left'` or `'bottom'`.\r\n     * @option\r\n     * @type {string}\r\n     * @default top\r\n     */\r\n    backButtonPosition: 'top',\r\n    /**\r\n     * Markup used to wrap drilldown menu. Use a class name for independent styling; the JS applied class: `is-drilldown` is required. Remove the backslash (`\\`) if copy and pasting.\r\n     * @option\r\n     * @type {string}\r\n     * @default '<div></div>'\r\n     */\r\n    wrapper: '<div></div>',\r\n    /**\r\n     * Adds the parent link to the submenu.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    parentLink: false,\r\n    /**\r\n     * Allow the menu to return to root list on body click.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    closeOnClick: false,\r\n    /**\r\n     * Allow the menu to auto adjust height.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    autoHeight: false,\r\n    /**\r\n     * Animate the auto adjust height.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    animateHeight: false,\r\n    /**\r\n     * Scroll to the top of the menu after opening a submenu or navigating back using the menu back button\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    scrollTop: false,\r\n    /**\r\n     * String jquery selector (for example 'body') of element to take offset().top from, if empty string the drilldown menu offset().top is taken\r\n     * @option\r\n     * @type {string}\r\n     * @default ''\r\n     */\r\n    scrollTopElement: '',\r\n    /**\r\n     * ScrollTop offset\r\n     * @option\r\n     * @type {number}\r\n     * @default 0\r\n     */\r\n    scrollTopOffset: 0,\r\n    /**\r\n     * Scroll animation duration\r\n     * @option\r\n     * @type {number}\r\n     * @default 500\r\n     */\r\n    animationDuration: 500,\r\n    /**\r\n     * Scroll animation easing. Can be `'swing'` or `'linear'`.\r\n     * @option\r\n     * @type {string}\r\n     * @see {@link https://api.jquery.com/animate|JQuery animate}\r\n     * @default 'swing'\r\n     */\r\n    animationEasing: 'swing'\r\n    // holdOpen: false\r\n  };\r\n\r\n  // Window exports\r\n  Foundation.plugin(Drilldown, 'Drilldown');\r\n}(jQuery);\r\n'use strict';\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n!function ($) {\r\n\r\n  /**\r\n   * DropdownMenu module.\r\n   * @module foundation.dropdown-menu\r\n   * @requires foundation.util.keyboard\r\n   * @requires foundation.util.box\r\n   * @requires foundation.util.nest\r\n   */\r\n\r\n  var DropdownMenu = function () {\r\n    /**\r\n     * Creates a new instance of DropdownMenu.\r\n     * @class\r\n     * @fires DropdownMenu#init\r\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\r\n     * @param {Object} options - Overrides to the default plugin settings.\r\n     */\r\n    function DropdownMenu(element, options) {\r\n\r\n      _classCallCheck(this, DropdownMenu);\r\n\r\n      this.$element = element;\r\n      this.options = $.extend({}, DropdownMenu.defaults, this.$element.data(), options);\r\n\r\n      Foundation.Nest.Feather(this.$element, 'dropdown');\r\n      this._init();\r\n\r\n      Foundation.registerPlugin(this, 'DropdownMenu');\r\n      Foundation.Keyboard.register('DropdownMenu', {\r\n        'ENTER': 'open',\r\n        'SPACE': 'open',\r\n        'ARROW_RIGHT': 'next',\r\n        'ARROW_UP': 'up',\r\n        'ARROW_DOWN': 'down',\r\n        'ARROW_LEFT': 'previous',\r\n        'ESCAPE': 'close'\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Initializes the plugin, and calls _prepareMenu\r\n     * @private\r\n     * @function\r\n     */\r\n\r\n\r\n    _createClass(DropdownMenu, [{\r\n      key: '_init',\r\n      value: function _init() {\r\n\r\n        var subs = this.$element.find('li.is-dropdown-submenu-parent');\r\n        this.$element.children('.is-dropdown-submenu-parent').children('.is-dropdown-submenu').addClass('first-sub');\r\n\r\n        this.$menuItems = this.$element.find('[role=\"menuitem\"]');\r\n        this.$tabs = this.$element.children('[role=\"menuitem\"]');\r\n        this.$tabs.find('ul.is-dropdown-submenu').addClass(this.options.verticalClass);\r\n\r\n        if (this.$element.hasClass(this.options.rightClass) || this.options.alignment === 'right' || Foundation.rtl() || this.$element.parents('.top-bar-right').is('*')) {\r\n          this.options.alignment = 'right';\r\n          subs.addClass('opens-left');\r\n        } else {\r\n          subs.addClass('opens-right');\r\n        }\r\n        this.changed = false;\r\n        this._events();\r\n      }\r\n    }, {\r\n      key: '_isVertical',\r\n      value: function _isVertical() {\r\n        return this.$tabs.css('display') === 'block';\r\n      }\r\n\r\n      /**\r\n       * Adds event listeners to elements within the menu\r\n       * @private\r\n       * @function\r\n       */\r\n\r\n    }, {\r\n      key: '_events',\r\n      value: function _events() {\r\n\r\n        var _this = this,\r\n            hasTouch = 'ontouchstart' in window || typeof window.ontouchstart !== 'undefined',\r\n            parClass = 'is-dropdown-submenu-parent';\r\n\r\n        // used for onClick and in the keyboard handlers\r\n        var handleClickFn = function (e) {\r\n          var $elem = $(e.target).parentsUntil('ul', '.' + parClass),\r\n              hasSub = $elem.hasClass(parClass),\r\n              hasClicked = $elem.attr('data-is-click') === 'true',\r\n              $sub = $elem.children('.is-dropdown-submenu');\r\n\r\n          if (hasSub) {\r\n            if (hasClicked) {\r\n              if (!_this.options.closeOnClick || !_this.options.clickOpen && !hasTouch || _this.options.forceFollow && hasTouch) {\r\n                return;\r\n              } else {\r\n                e.stopImmediatePropagation();\r\n                e.preventDefault();\r\n                _this._hide($elem);\r\n              }\r\n            } else {\r\n              e.preventDefault();\r\n              e.stopImmediatePropagation();\r\n              _this._show($sub);\r\n              $elem.add($elem.parentsUntil(_this.$element, '.' + parClass)).attr('data-is-click', true);\r\n            }\r\n          }\r\n        };\r\n\r\n        if (this.options.clickOpen || hasTouch) {\r\n          this.$menuItems.on('click.zf.dropdownmenu', handleClickFn);\r\n        }\r\n\r\n        // Handle Leaf element Clicks\r\n        if (_this.options.closeOnClickInside) {\r\n          this.$menuItems.on('click.zf.dropdownmenu', function (e) {\r\n            var $elem = $(this),\r\n                hasSub = $elem.hasClass(parClass);\r\n            if (!hasSub) {\r\n              _this._hide();\r\n            }\r\n          });\r\n        }\r\n\r\n        if (!this.options.disableHover) {\r\n          this.$menuItems.on('mouseenter.zf.dropdownmenu', function (e) {\r\n            var $elem = $(this),\r\n                hasSub = $elem.hasClass(parClass);\r\n\r\n            if (hasSub) {\r\n              clearTimeout($elem.data('_delay'));\r\n              $elem.data('_delay', setTimeout(function () {\r\n                _this._show($elem.children('.is-dropdown-submenu'));\r\n              }, _this.options.hoverDelay));\r\n            }\r\n          }).on('mouseleave.zf.dropdownmenu', function (e) {\r\n            var $elem = $(this),\r\n                hasSub = $elem.hasClass(parClass);\r\n            if (hasSub && _this.options.autoclose) {\r\n              if ($elem.attr('data-is-click') === 'true' && _this.options.clickOpen) {\r\n                return false;\r\n              }\r\n\r\n              clearTimeout($elem.data('_delay'));\r\n              $elem.data('_delay', setTimeout(function () {\r\n                _this._hide($elem);\r\n              }, _this.options.closingTime));\r\n            }\r\n          });\r\n        }\r\n        this.$menuItems.on('keydown.zf.dropdownmenu', function (e) {\r\n          var $element = $(e.target).parentsUntil('ul', '[role=\"menuitem\"]'),\r\n              isTab = _this.$tabs.index($element) > -1,\r\n              $elements = isTab ? _this.$tabs : $element.siblings('li').add($element),\r\n              $prevElement,\r\n              $nextElement;\r\n\r\n          $elements.each(function (i) {\r\n            if ($(this).is($element)) {\r\n              $prevElement = $elements.eq(i - 1);\r\n              $nextElement = $elements.eq(i + 1);\r\n              return;\r\n            }\r\n          });\r\n\r\n          var nextSibling = function () {\r\n            if (!$element.is(':last-child')) {\r\n              $nextElement.children('a:first').focus();\r\n              e.preventDefault();\r\n            }\r\n          },\r\n              prevSibling = function () {\r\n            $prevElement.children('a:first').focus();\r\n            e.preventDefault();\r\n          },\r\n              openSub = function () {\r\n            var $sub = $element.children('ul.is-dropdown-submenu');\r\n            if ($sub.length) {\r\n              _this._show($sub);\r\n              $element.find('li > a:first').focus();\r\n              e.preventDefault();\r\n            } else {\r\n              return;\r\n            }\r\n          },\r\n              closeSub = function () {\r\n            //if ($element.is(':first-child')) {\r\n            var close = $element.parent('ul').parent('li');\r\n            close.children('a:first').focus();\r\n            _this._hide(close);\r\n            e.preventDefault();\r\n            //}\r\n          };\r\n          var functions = {\r\n            open: openSub,\r\n            close: function () {\r\n              _this._hide(_this.$element);\r\n              _this.$menuItems.find('a:first').focus(); // focus to first element\r\n              e.preventDefault();\r\n            },\r\n            handled: function () {\r\n              e.stopImmediatePropagation();\r\n            }\r\n          };\r\n\r\n          if (isTab) {\r\n            if (_this._isVertical()) {\r\n              // vertical menu\r\n              if (Foundation.rtl()) {\r\n                // right aligned\r\n                $.extend(functions, {\r\n                  down: nextSibling,\r\n                  up: prevSibling,\r\n                  next: closeSub,\r\n                  previous: openSub\r\n                });\r\n              } else {\r\n                // left aligned\r\n                $.extend(functions, {\r\n                  down: nextSibling,\r\n                  up: prevSibling,\r\n                  next: openSub,\r\n                  previous: closeSub\r\n                });\r\n              }\r\n            } else {\r\n              // horizontal menu\r\n              if (Foundation.rtl()) {\r\n                // right aligned\r\n                $.extend(functions, {\r\n                  next: prevSibling,\r\n                  previous: nextSibling,\r\n                  down: openSub,\r\n                  up: closeSub\r\n                });\r\n              } else {\r\n                // left aligned\r\n                $.extend(functions, {\r\n                  next: nextSibling,\r\n                  previous: prevSibling,\r\n                  down: openSub,\r\n                  up: closeSub\r\n                });\r\n              }\r\n            }\r\n          } else {\r\n            // not tabs -> one sub\r\n            if (Foundation.rtl()) {\r\n              // right aligned\r\n              $.extend(functions, {\r\n                next: closeSub,\r\n                previous: openSub,\r\n                down: nextSibling,\r\n                up: prevSibling\r\n              });\r\n            } else {\r\n              // left aligned\r\n              $.extend(functions, {\r\n                next: openSub,\r\n                previous: closeSub,\r\n                down: nextSibling,\r\n                up: prevSibling\r\n              });\r\n            }\r\n          }\r\n          Foundation.Keyboard.handleKey(e, 'DropdownMenu', functions);\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Adds an event handler to the body to close any dropdowns on a click.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_addBodyHandler',\r\n      value: function _addBodyHandler() {\r\n\r\n        var $body = $(document.body),\r\n            _this = this;\r\n        $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu').on('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu', function (e) {\r\n          var $link = _this.$element.find(e.target);\r\n          if ($link.length) {\r\n            return;\r\n          }\r\n\r\n          _this._hide();\r\n          $body.off('mouseup.zf.dropdownmenu touchend.zf.dropdownmenu');\r\n        });\r\n      }\r\n\r\n      /**\r\n       * Opens a dropdown pane, and checks for collisions first.\r\n       * @param {jQuery} $sub - ul element that is a submenu to show\r\n       * @function\r\n       * @private\r\n       * @fires DropdownMenu#show\r\n       */\r\n\r\n    }, {\r\n      key: '_show',\r\n      value: function _show($sub) {\r\n\r\n        var idx = this.$tabs.index(this.$tabs.filter(function (i, el) {\r\n          return $(el).find($sub).length > 0;\r\n        }));\r\n        var $sibs = $sub.parent('li.is-dropdown-submenu-parent').siblings('li.is-dropdown-submenu-parent');\r\n        this._hide($sibs, idx);\r\n        $sub.css('visibility', 'hidden').addClass('js-dropdown-active').parent('li.is-dropdown-submenu-parent').addClass('is-active');\r\n        var clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\r\n        if (!clear) {\r\n          var oldClass = this.options.alignment === 'left' ? '-right' : '-left',\r\n              $parentLi = $sub.parent('.is-dropdown-submenu-parent');\r\n          $parentLi.removeClass('opens' + oldClass).addClass('opens-' + this.options.alignment);\r\n          clear = Foundation.Box.ImNotTouchingYou($sub, null, true);\r\n          if (!clear) {\r\n            $parentLi.removeClass('opens-' + this.options.alignment).addClass('opens-inner');\r\n          }\r\n          this.changed = true;\r\n        }\r\n        $sub.css('visibility', '');\r\n        if (this.options.closeOnClick) {\r\n          this._addBodyHandler();\r\n        }\r\n        /**\r\n         * Fires when the new dropdown pane is visible.\r\n         * @event DropdownMenu#show\r\n         */\r\n        this.$element.trigger('show.zf.dropdownmenu', [$sub]);\r\n      }\r\n\r\n      /**\r\n       * Hides a single, currently open dropdown pane, if passed a parameter, otherwise, hides everything.\r\n       * @function\r\n       * @param {jQuery} $elem - element with a submenu to hide\r\n       * @param {Number} idx - index of the $tabs collection to hide\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_hide',\r\n      value: function _hide($elem, idx) {\r\n\r\n        var $toClose;\r\n        if ($elem && $elem.length) {\r\n          $toClose = $elem;\r\n        } else if (idx !== undefined) {\r\n          $toClose = this.$tabs.not(function (i, el) {\r\n            return i === idx;\r\n          });\r\n        } else {\r\n          $toClose = this.$element;\r\n        }\r\n        var somethingToClose = $toClose.hasClass('is-active') || $toClose.find('.is-active').length > 0;\r\n\r\n        if (somethingToClose) {\r\n          $toClose.find('li.is-active').add($toClose).attr({\r\n            'data-is-click': false\r\n          }).removeClass('is-active');\r\n\r\n          $toClose.find('ul.js-dropdown-active').removeClass('js-dropdown-active');\r\n\r\n          if (this.changed || $toClose.find('opens-inner').length) {\r\n            var oldClass = this.options.alignment === 'left' ? 'right' : 'left';\r\n            $toClose.find('li.is-dropdown-submenu-parent').add($toClose).removeClass('opens-inner opens-' + this.options.alignment).addClass('opens-' + oldClass);\r\n            this.changed = false;\r\n          }\r\n          /**\r\n           * Fires when the open menus are closed.\r\n           * @event DropdownMenu#hide\r\n           */\r\n          this.$element.trigger('hide.zf.dropdownmenu', [$toClose]);\r\n        }\r\n      }\r\n\r\n      /**\r\n       * Destroys the plugin.\r\n       * @function\r\n       */\r\n\r\n    }, {\r\n      key: 'destroy',\r\n      value: function destroy() {\r\n        this.$menuItems.off('.zf.dropdownmenu').removeAttr('data-is-click').removeClass('is-right-arrow is-left-arrow is-down-arrow opens-right opens-left opens-inner');\r\n        $(document.body).off('.zf.dropdownmenu');\r\n        Foundation.Nest.Burn(this.$element, 'dropdown');\r\n        Foundation.unregisterPlugin(this);\r\n      }\r\n    }]);\r\n    return DropdownMenu;\r\n  }();\r\n\r\n  /**\r\n   * Default settings for plugin\r\n   */\r\n\r\n\r\n  DropdownMenu.defaults = {\r\n    /**\r\n     * Disallows hover events from opening submenus\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    disableHover: false,\r\n    /**\r\n     * Allow a submenu to automatically close on a mouseleave event, if not clicked open.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default true\r\n     */\r\n    autoclose: true,\r\n    /**\r\n     * Amount of time to delay opening a submenu on hover event.\r\n     * @option\r\n     * @type {number}\r\n     * @default 50\r\n     */\r\n    hoverDelay: 50,\r\n    /**\r\n     * Allow a submenu to open/remain open on parent click event. Allows cursor to move away from menu.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default false\r\n     */\r\n    clickOpen: false,\r\n    /**\r\n     * Amount of time to delay closing a submenu on a mouseleave event.\r\n     * @option\r\n     * @type {number}\r\n     * @default 500\r\n     */\r\n\r\n    closingTime: 500,\r\n    /**\r\n     * Position of the menu relative to what direction the submenus should open. Handled by JS. Can be `'left'` or `'right'`.\r\n     * @option\r\n     * @type {string}\r\n     * @default 'left'\r\n     */\r\n    alignment: 'left',\r\n    /**\r\n     * Allow clicks on the body to close any open submenus.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default true\r\n     */\r\n    closeOnClick: true,\r\n    /**\r\n     * Allow clicks on leaf anchor links to close any open submenus.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default true\r\n     */\r\n    closeOnClickInside: true,\r\n    /**\r\n     * Class applied to vertical oriented menus, Foundation default is `vertical`. Update this if using your own class.\r\n     * @option\r\n     * @type {string}\r\n     * @default 'vertical'\r\n     */\r\n    verticalClass: 'vertical',\r\n    /**\r\n     * Class applied to right-side oriented menus, Foundation default is `align-right`. Update this if using your own class.\r\n     * @option\r\n     * @type {string}\r\n     * @default 'align-right'\r\n     */\r\n    rightClass: 'align-right',\r\n    /**\r\n     * Boolean to force overide the clicking of links to perform default action, on second touch event for mobile.\r\n     * @option\r\n     * @type {boolean}\r\n     * @default true\r\n     */\r\n    forceFollow: true\r\n  };\r\n\r\n  // Window exports\r\n  Foundation.plugin(DropdownMenu, 'DropdownMenu');\r\n}(jQuery);\r\n'use strict';\r\n\r\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\r\n\r\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\r\n\r\n!function ($) {\r\n\r\n  /**\r\n   * ResponsiveMenu module.\r\n   * @module foundation.responsiveMenu\r\n   * @requires foundation.util.triggers\r\n   * @requires foundation.util.mediaQuery\r\n   */\r\n\r\n  var ResponsiveMenu = function () {\r\n    /**\r\n     * Creates a new instance of a responsive menu.\r\n     * @class\r\n     * @fires ResponsiveMenu#init\r\n     * @param {jQuery} element - jQuery object to make into a dropdown menu.\r\n     * @param {Object} options - Overrides to the default plugin settings.\r\n     */\r\n    function ResponsiveMenu(element, options) {\r\n      _classCallCheck(this, ResponsiveMenu);\r\n\r\n      this.$element = $(element);\r\n      this.rules = this.$element.data('responsive-menu');\r\n      this.currentMq = null;\r\n      this.currentPlugin = null;\r\n\r\n      this._init();\r\n      this._events();\r\n\r\n      Foundation.registerPlugin(this, 'ResponsiveMenu');\r\n    }\r\n\r\n    /**\r\n     * Initializes the Menu by parsing the classes from the 'data-ResponsiveMenu' attribute on the element.\r\n     * @function\r\n     * @private\r\n     */\r\n\r\n\r\n    _createClass(ResponsiveMenu, [{\r\n      key: '_init',\r\n      value: function _init() {\r\n        // The first time an Interchange plugin is initialized, this.rules is converted from a string of \"classes\" to an object of rules\r\n        if (typeof this.rules === 'string') {\r\n          var rulesTree = {};\r\n\r\n          // Parse rules from \"classes\" pulled from data attribute\r\n          var rules = this.rules.split(' ');\r\n\r\n          // Iterate through every rule found\r\n          for (var i = 0; i < rules.length; i++) {\r\n            var rule = rules[i].split('-');\r\n            var ruleSize = rule.length > 1 ? rule[0] : 'small';\r\n            var rulePlugin = rule.length > 1 ? rule[1] : rule[0];\r\n\r\n            if (MenuPlugins[rulePlugin] !== null) {\r\n              rulesTree[ruleSize] = MenuPlugins[rulePlugin];\r\n            }\r\n          }\r\n\r\n          this.rules = rulesTree;\r\n        }\r\n\r\n        if (!$.isEmptyObject(this.rules)) {\r\n          this._checkMediaQueries();\r\n        }\r\n        // Add data-mutate since children may need it.\r\n        this.$element.attr('data-mutate', this.$element.attr('data-mutate') || Foundation.GetYoDigits(6, 'responsive-menu'));\r\n      }\r\n\r\n      /**\r\n       * Initializes events for the Menu.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_events',\r\n      value: function _events() {\r\n        var _this = this;\r\n\r\n        $(window).on('changed.zf.mediaquery', function () {\r\n          _this._checkMediaQueries();\r\n        });\r\n        // $(window).on('resize.zf.ResponsiveMenu', function() {\r\n        //   _this._checkMediaQueries();\r\n        // });\r\n      }\r\n\r\n      /**\r\n       * Checks the current screen width against available media queries. If the media query has changed, and the plugin needed has changed, the plugins will swap out.\r\n       * @function\r\n       * @private\r\n       */\r\n\r\n    }, {\r\n      key: '_checkMediaQueries',\r\n      value: function _checkMediaQueries() {\r\n        var matchedMq,\r\n            _this = this;\r\n        // Iterate through each rule and find the last matching rule\r\n        $.each(this.rules, function (key) {\r\n          if (Foundation.MediaQuery.atLeast(key)) {\r\n            matchedMq = key;\r\n          }\r\n        });\r\n\r\n        // No match? No dice\r\n        if (!matchedMq) return;\r\n\r\n        // Plugin already initialized? We good\r\n        if (this.currentPlugin instanceof this.rules[matchedMq].plugin) return;\r\n\r\n        // Remove existing plugin-specific CSS classes\r\n        $.each(MenuPlugins, function (key, value) {\r\n          _this.$element.removeClass(value.cssClass);\r\n        });\r\n\r\n        // Add the CSS class for the new plugin\r\n        this.$element.addClass(this.rules[matchedMq].cssClass);\r\n\r\n        // Create an instance of the new plugin\r\n        if (this.currentPlugin) this.currentPlugin.destroy();\r\n        this.currentPlugin = new this.rules[matchedMq].plugin(this.$element, {});\r\n      }\r\n\r\n      /**\r\n       * Destroys the instance of the current plugin on this element, as well as the window resize handler that switches the plugins out.\r\n       * @function\r\n       */\r\n\r\n    }, {\r\n      key: 'destroy',\r\n      value: function destroy() {\r\n        this.currentPlugin.destroy();\r\n        $(window).off('.zf.ResponsiveMenu');\r\n        Foundation.unregisterPlugin(this);\r\n      }\r\n    }]);\r\n\r\n    return ResponsiveMenu;\r\n  }();\r\n\r\n  ResponsiveMenu.defaults = {};\r\n\r\n  // The plugin matches the plugin classes with these plugin instances.\r\n  var MenuPlugins = {\r\n    dropdown: {\r\n      cssClass: 'dropdown',\r\n      plugin: Foundation._plugins['dropdown-menu'] || null\r\n    },\r\n    drilldown: {\r\n      cssClass: 'drilldown',\r\n      plugin: Foundation._plugins['drilldown'] || null\r\n    },\r\n    accordion: {\r\n      cssClass: 'accordion-menu',\r\n      plugin: Foundation._plugins['accordion-menu'] || null\r\n    }\r\n  };\r\n\r\n  // Window exports\r\n  Foundation.plugin(ResponsiveMenu, 'ResponsiveMenu');\r\n}(jQuery);\r\n","/* globals $, Foundation */\r\nvar colnavCustom = function() {\r\n  var levels = ['a-colnav-firstLevel', 'a-colnav-secondLevel', 'a-colnav-thirdLevel']; // Classnames\r\n  var open = []; // Array to hold open levels\r\n  var isSmall = $('.a-contentOverview').width() < 900; // Boolean for determining screen size\r\n  var movedDuringTouch = false; // Boolean to determine whether there was movement during touch\r\n  var shifted; // Boolean to determine if shift key was pressed\r\n  var savedResults = {}; // Object to hold saved results\r\n  var currentData = {};\r\n  var pluginInstance; // Variable to hold Foundation plugin instance\r\n  var endPointUrl = '';\r\n  var currentCategory = '';\r\n  var menuHandlersAttached = false;\r\n  var populateSublevel; // We need to declare this func. before defining it because of lint warnings\r\n\r\n  var keys = {\r\n    category: 'category',\r\n    checked: ':checked',\r\n    colnavSelector: '.a-colnav',\r\n    colnavItemSelector: '.a-colnav-item',\r\n    dataId: 'data-id',\r\n    dataIndex: 'data-index',\r\n    disabled: 'disabled',\r\n    colnavWrapper: '.a-colnav-wrapper',\r\n    dataLevel: 'data-level',\r\n    loaderClass: '.a-js-drilldownLoader',\r\n    radioClassSelector: '.radio',\r\n    switchurl: 'switchurl',\r\n    toggleInput: '[name=\"js-switchForm\"]'\r\n  };\r\n\r\n  var elements = {\r\n  };\r\n\r\n  var category = {\r\n    category: 'category',\r\n    provider: 'provider'\r\n  };\r\n\r\n  function time(label) {\r\n    // Comment this out before committing, used to measure performance in dev\r\n    // console.time(label);\r\n  }\r\n\r\n  function timeEnd(label) {\r\n    // Comment this out before committing, used to measure performance in dev\r\n    // console.timeEnd(label);\r\n  }\r\n\r\n  function createElement(name) {\r\n    return document.createElement(name);\r\n  }\r\n\r\n  function hideLoader() {\r\n    $(keys.loaderClass).hide();\r\n  }\r\n\r\n  function showLoader() {\r\n    $(keys.loaderClass).show();\r\n  }\r\n\r\n  function maxDepth() {\r\n    var depth = 3;\r\n    if (currentCategory === category.provider) {\r\n      depth = 2;\r\n    }\r\n\r\n    return depth;\r\n  }\r\n\r\n  function getListProperty(item) {\r\n    if (item.SubCategory) {\r\n      return item.SubCategory;\r\n    } else if (item.List) {\r\n      return item.List;\r\n    } else if (item.SchemaList) {\r\n      return item.SchemaList;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  function setHistoryState(position) {\r\n    var urlQueryString = '?category=';\r\n    var newurl = window.location.pathname;\r\n    currentCategory = $(keys.toggleInput + keys.checked).data(keys.switchurl).replace('get', '');\r\n    if (history.replaceState) {\r\n      urlQueryString += currentCategory;\r\n      if (position !== null && position !== '') {\r\n        urlQueryString = urlQueryString + '&position=' + position;\r\n      }\r\n      newurl += urlQueryString;\r\n      window.history.replaceState({\r\n        path: newurl\r\n      }, '', newurl);\r\n    }\r\n  }\r\n\r\n  function stopEvent(e) {\r\n    if (typeof e.cancelable !== 'boolean' || e.cancelable) {\r\n      e.preventDefault();\r\n    }\r\n    e.stopPropagation();\r\n    e.stopImmediatePropagation();\r\n  }\r\n\r\n  function urlQuery(query) { // Parse current URL for query value\r\n    var _query = query.replace(/[[]/, '[').replace(/[\\]]/, '\\\\]');\r\n    var expr = '[\\\\?&]' + _query + '=([^&#]*)';\r\n    var regex = new RegExp(expr);\r\n    var results = regex.exec(window.location.href);\r\n    if (results !== null) {\r\n      return results[1];\r\n    }\r\n    return false;\r\n  }\r\n\r\n  function createSubMenuForClickedItem($li) {\r\n    var $item = $li.closest('li');\r\n    var level = $item.data('level');\r\n    var dataIndex = $item.data('index');\r\n    var data = null;\r\n    var parentDataIndex = null;\r\n    var parentData = null;\r\n\r\n    if (level === 1) {\r\n      data = getListProperty(currentData[dataIndex]);\r\n    } else if (level === 2) {\r\n      parentDataIndex = $item.parent().closest('li').data('index');\r\n      parentData = currentData[parentDataIndex];\r\n      data = getListProperty(parentData)[dataIndex];\r\n      data = getListProperty(data);\r\n    }\r\n\r\n    populateSublevel(data, $item.find('ul'), level + 1);\r\n  }\r\n\r\n  // This code awful. It can return a number or an element (!),\r\n  // the argument names don't convey any information and there\r\n  // a few magical numbers.\r\n  // Should be the first target of a refactoring in the future.\r\n  // Perform various calculations to determine placements and widths\r\n  function calc(x, y, z) {\r\n    var returnValue = '';\r\n    var left = null;\r\n    var contentOverviewWith = $('.a-contentOverview').width();\r\n    if (isSmall) {\r\n      if (isNaN(x)) {\r\n        returnValue = x.css('left', '50px');\r\n      } else {\r\n        returnValue = ((contentOverviewWith - ((z + 1) * 50)) - (1.5 * (z + 1))) + 'px';\r\n      }\r\n    } else if (isNaN(x)) {\r\n      left = parseInt(x.css('left'), 10);\r\n      if ((currentCategory === category.provider &&\r\n          x.hasClass('a-colnav-secondLevel') &&\r\n          left < 250)\r\n          ||\r\n          (currentCategory === category.category &&\r\n              x.hasClass('a-colnav-thirdLevel') &&\r\n              left < 200)) {\r\n        returnValue = x;\r\n      } else {\r\n        returnValue = x.css('left', parseInt(contentOverviewWith / y / (z || 1), 10) + 'px');\r\n      }\r\n    } else {\r\n      returnValue = parseInt(contentOverviewWith / x / (y || 1), 10);\r\n    }\r\n\r\n    return returnValue;\r\n  }\r\n\r\n  function whenClick(eventOrElement, alt) { // Logic for clicks on items\r\n    var index = null;\r\n    var level = null;\r\n    var wasStacked = null;\r\n    var str = null;\r\n    var el = null;\r\n    var li = null;\r\n    var text = null;\r\n    var position = null;\r\n\r\n    if (eventOrElement.which === 2 || eventOrElement.which === 3) {\r\n      // Middle-click or right-click, stop processing the event\r\n      // Ref.: http://api.jquery.com/event.which/\r\n      return;\r\n    }\r\n\r\n    if (eventOrElement.target && eventOrElement.target.tagName === 'UL') {\r\n      return;\r\n    }\r\n\r\n    if (eventOrElement.stopPropagation) {\r\n      stopEvent(eventOrElement);\r\n    }\r\n\r\n    // Determine element\r\n    el = alt === undefined ? $(eventOrElement.target) : eventOrElement;\r\n    li = el.closest('li');\r\n    if (!li.hasClass('is-dropdown-submenu-parent') && !li.hasClass('is-dropdown-submenu-parent')) {\r\n      li = el;\r\n    }\r\n    if (li.is('h4')) {\r\n      li = li.parents().eq(1);\r\n    }\r\n\r\n    // If item holds an actual link, redirect\r\n    if (li.children('a').prop('href')) {\r\n      window.location = li.children('a').prop('href');\r\n      return;\r\n    }\r\n    text = li.find('h2').length > 0 ? li.find('h2').text() : li.find('h3').text();\r\n    position = li.find('h2').length > 0 ? li.find('h2').attr(keys.dataId) : li.find('h3').attr(keys.dataId);\r\n    createSubMenuForClickedItem(li);\r\n    level = li.data('level');\r\n\r\n    // Iterate through levels\r\n    for (index = 0; index < level; index += 1) {\r\n    // levels.forEach(function(str, index) {\r\n      str = levels[index];\r\n      // var wasStacked;\r\n      if (el.closest('ul').hasClass(str)) { // Check if element exists\r\n        // Check if item is already open\r\n        if (el.closest('a').hasClass('open') || el.find('a').hasClass('open') || el.hasClass('open')) {\r\n          position = el.closest('ul').prev().find('h2').attr(keys.dataId) || '';\r\n          setHistoryState(position);\r\n          open = []; // Clear array for open levels\r\n          // Hide lower levels:\r\n          $('.' + levels[index + 1]).removeClass('noTrans').css('left', '250%');\r\n          $('.' + levels[2]).removeClass('noTrans').css('left', '250%');\r\n          calc(index > 0 ? el.closest('ul') : 0, 3 / index); // Calculate left position for parent\r\n          // Reset markup:\r\n          el.closest('ul').removeClass('stacked').find('.open').removeClass('open');\r\n          el.closest('ul').find('.dim').removeClass('dim');\r\n          if (isSmall) {\r\n            el.closest('ul').css('width', calc(1.5, null, index - 1));\r\n          }\r\n        } else { // If item is not open:\r\n          setHistoryState(position);\r\n          if (index === 0) { // If on first level, reset markup and hide lower levels\r\n            el.closest('ul').find('.dim').removeClass('dim');\r\n            $('.' + levels[1]).removeClass('stacked').removeClass('noTrans').css('left', '250%');\r\n            $('.' + levels[2]).removeClass('stacked').removeClass('noTrans').css('left', '250%');\r\n          }\r\n          wasStacked = el.closest('ul').hasClass('stacked'); // Check if parent was stacked\r\n          el.closest('ul').children('li').children('a').addClass('dim'); // Dim other items\r\n          // Stack parent and reset any open items:\r\n          el.closest('ul').addClass('stacked').find('.open').removeClass('open');\r\n          $('.' + levels[index + 1]).hide().addClass('noTrans'); // Adjust markup of lower level\r\n          // Adjust item markup:\r\n          el.addClass('open').closest('a').addClass('open');\r\n          el.find('a').eq(0).addClass('open');\r\n          if (open.indexOf(levels[index + 1]) === -1) { // If lower level is not open\r\n            // Prepare lower level and add it to array:\r\n            li.find('.' + levels[index + 1]).removeClass(wasStacked ? '' : 'noTrans')\r\n              .css('left', '250%').show();\r\n            open.push(levels[index + 1]);\r\n          }\r\n          if (index > 0) { // If level is second or lower, calculate left position and width\r\n            calc(el.closest('ul'), 3, index + 1).removeClass('noTrans')\r\n              .css('width', calc(1.5, null, index)).show();\r\n          }\r\n          // Calculate left position and width for lower level\r\n          calc(li.find('.' + levels[index + 1]), 3, index + 1).css('width', calc(1.5, null, index))\r\n            .show();\r\n        }\r\n      }\r\n    }\r\n    // Perform markup adjustments to stacked view:\r\n    if ($('.a-colnav-firstLevel').hasClass('stacked')) {\r\n      $('.a-js-backButton').show();\r\n      if (isSmall) {\r\n        $('.switch-container').hide();\r\n        $('.a-containerColnav-top').css('padding-bottom', '0px');\r\n        $('.a-js-backButton').css('margin-top', '-4px');\r\n        $('.a-js-colnavTitleBold').text('');\r\n        $('.a-js-colnavTitleRegular').text(text);\r\n      }\r\n      // Perform markup adjustments to unstacked view:\r\n    } else {\r\n      $('.a-js-backButton').hide();\r\n      if (isSmall) {\r\n        $('.switch-container').show();\r\n        $('.a-containerColnav-top').css('padding-bottom', '24px');\r\n        $('.a-js-backButton').css('margin-top', '0px');\r\n        $('.a-js-colnavTitleBold').text('');\r\n        $('.a-js-colnavTitleRegular').text('Alle skjemaer');\r\n      }\r\n    }\r\n    // Adjust the height of container:\r\n    $('.a-colnav-firstLevel').css('height', 'auto');\r\n    if (\r\n      parseInt($('.a-colnav-thirdLevel:visible').height(), 10) >\r\n      parseInt($('.a-colnav-firstLevel').height(), 10) ||\r\n      parseInt($('.a-colnav-secondLevel:visible').height(), 10) >\r\n      parseInt($('.a-colnav-firstLevel').height(), 10)) {\r\n      $('.a-colnav-firstLevel')\r\n        .css('height',\r\n          parseInt($('.a-colnav-thirdLevel:visible').height(), 10) >\r\n            parseInt($('.a-colnav-secondLevel:visible').height(), 10) ?\r\n            (parseInt($('.a-colnav-thirdLevel:visible').height(), 10) - 2) :\r\n            (parseInt($('.a-colnav-secondLevel:visible').height(), 10) - 2) +\r\n              'px');\r\n    }\r\n    if (!$('.a-colnav-firstLevel').hasClass('stacked')) {\r\n      $('.a-colnav-firstLevel').css('height', 'auto');\r\n    }\r\n  }\r\n\r\n  function attachEventHandlers() {\r\n    $(document).on('keyup keydown', function(e) { // Detect shift key\r\n      shifted = e.shiftKey;\r\n    });\r\n\r\n    $('.a-js-backButton').on('touchend click', function(event) {\r\n      if (event.type !== 'touchend' || movedDuringTouch === false) {\r\n        whenClick($('a.open').last(), true);\r\n      }\r\n      return false;\r\n    });\r\n\r\n    $('.a-js-backButton').on('touchstart', function(event) {\r\n      movedDuringTouch = false;\r\n    });\r\n\r\n    $('.a-js-backButton').on('touchmove', function(event) {\r\n      movedDuringTouch = true;\r\n    });\r\n  }\r\n\r\n  function disableToggles() {\r\n    $(keys.toggleInput).closest(keys.radioClassSelector).addClass(keys.disabled);\r\n    $(keys.toggleInput).attr(keys.disabled, true);\r\n  }\r\n\r\n  function enableToggles() {\r\n    $(keys.toggleInput).closest(keys.radioClassSelector).removeClass(keys.disabled);\r\n    $(keys.toggleInput).attr(keys.disabled, false);\r\n  }\r\n\r\n  function whenKey(e, classToQuery) { // Logic for keypresses on items\r\n    var code = e.keyCode || e.which;\r\n    if (code === 27 || code === 37 || code === 38 || code === 39 || code === 40) {\r\n      stopEvent(e);\r\n    }\r\n    if (code === 13 || code === 32) {\r\n      if (classToQuery !== '.a-colnav-item-third') {\r\n        stopEvent(e);\r\n        $(e.target).trigger('mouseup').trigger('focus');\r\n      }\r\n    } else if (code === 9 && !$(e.target).hasClass('open')) {\r\n      if (shifted) {\r\n        if ($(e.target).blur().parent().prev().length !== 0) {\r\n          stopEvent(e);\r\n          $(e.target).blur().parent().prev()\r\n            .find(classToQuery)\r\n            .trigger('focus');\r\n        }\r\n      } else if ($(e.target).blur().parent().next().length !== 0) {\r\n        stopEvent(e);\r\n        $(e.target).blur().parent().next()\r\n          .find(classToQuery)\r\n          .trigger('focus');\r\n      }\r\n    } else if (code === 9 && $(e.target).hasClass('open')) {\r\n      if (shifted) {\r\n        stopEvent(e);\r\n        $(e.target).blur().parent().parent()\r\n          .parent()\r\n          .children('a')\r\n          .trigger('focus');\r\n      } else {\r\n        stopEvent(e);\r\n        $(e.target).blur().next().children('li:eq(0)')\r\n          .children('a')\r\n          .trigger('focus');\r\n      }\r\n    }\r\n  }\r\n\r\n  function createDropDown() {\r\n    time('createDropDown');\r\n    if (elements.$rootColnav.prop('data-dropdown-menu')) {\r\n      pluginInstance.destroy();\r\n    }\r\n\r\n    pluginInstance = new Foundation.DropdownMenu(elements.$rootColnav);\r\n    timeEnd('createDropDown');\r\n  }\r\n\r\n  function attachSubMenuEventHandlers($parentItem) {\r\n    time('attachSubMenuEventHandlers');\r\n    $parentItem.find('.a-colnav-item-second').on('keydown', function(event) {\r\n      whenKey(event, '.a-colnav-item-second');\r\n    });\r\n    $parentItem.find('.a-colnav-item-third').on('keydown', function(event) {\r\n      whenKey(event, '.a-colnav-item-third');\r\n    });\r\n    timeEnd('attachSubMenuEventHandlers');\r\n  }\r\n\r\n  function attachMenuEventHandlers() {\r\n    var queryHit = false;\r\n    var positionUrlParameterValue = null;\r\n\r\n    time('attachMenuEventHandlers');\r\n\r\n    if (!menuHandlersAttached) {\r\n      $(keys.colnavWrapper).on('mouseup touchend', function(event) {\r\n        if (event.type !== 'touchend' || movedDuringTouch === false) {\r\n          whenClick(event);\r\n        }\r\n        return false;\r\n      });\r\n\r\n      $(keys.colnavWrapper).on('touchstart', function(event) {\r\n        movedDuringTouch = false;\r\n      });\r\n\r\n      $(keys.colnavWrapper).on('touchmove', function(event) {\r\n        movedDuringTouch = true;\r\n      });\r\n\r\n      menuHandlersAttached = true;\r\n    }\r\n\r\n    $(keys.colnavItemSelector).on('keydown', function(event) {\r\n      whenKey(event, keys.colnavItemSelector);\r\n    });\r\n\r\n    $(keys.colnavItemSelector).on('click', function(event) {\r\n      if ($(window).scrollTop() > $(keys.colnavWrapper).offset().top) {\r\n        $('html,body').animate({\r\n          scrollTop: $(keys.colnavWrapper).offset().top\r\n        }, 300);\r\n      }\r\n    });\r\n\r\n    $(keys.colnavItemSelector).on('focus', function() {\r\n      if ($('.a-colnav-secondLevel.submenu.is-active').length === 1) {\r\n        $(this).off('keydown.zf.drilldown').parent().find('.a-colnav-item-second')\r\n          .eq(0)\r\n          .focus();\r\n      }\r\n    });\r\n\r\n    // Check if position is included in URL, and navigate to it\r\n    positionUrlParameterValue = urlQuery('position');\r\n    if (positionUrlParameterValue) {\r\n      $(keys.colnavSelector).find('a.a-colnav-item').each(function() {\r\n        if ($(this).find('h2').attr(keys.dataId) === positionUrlParameterValue) {\r\n          queryHit = true;\r\n          whenClick($(this), true);\r\n        }\r\n      });\r\n      if (currentCategory === category.category) {\r\n        $(keys.colnavSelector).find('a.a-colnav-item-second').each(function() {\r\n          if ($(this).find('h3').attr(keys.dataId) === positionUrlParameterValue) {\r\n            queryHit = true;\r\n            whenClick($(this).closest('ul').prev(), true);\r\n            setTimeout(function() {\r\n              whenClick($(this), true);\r\n            }.bind(this), 250);\r\n          }\r\n        });\r\n      }\r\n    }\r\n\r\n    timeEnd('attachMenuEventHandlers');\r\n  }\r\n\r\n  function createMenuNodeFragment(item,\r\n    level,\r\n    index) {\r\n    var liClasses = ['',\r\n      'is-dropdown-submenu-parent is-submenu-item is-dropdown-submenu-item opens-right',\r\n      'is-submenu-item is-dropdown-submenu-item'];\r\n    var aClasses = ['a-colnav-item',\r\n      'a-colnav-item-second',\r\n      'a-colnav-item-third'];\r\n    var ulClasses = ['a-colnav a-colnav-vertical a-colnav-secondLevel',\r\n      'a-colnav a-colnav-vertical a-colnav-thirdLevel is-dropdown-submenu',\r\n      ''];\r\n    var span;\r\n\r\n    var node = {\r\n      li: createElement('li'),\r\n      a: createElement('a'),\r\n      h: createElement('h' + (level + 1)),\r\n      p: createElement('p'),\r\n      ul: createElement('ul')\r\n    };\r\n\r\n    if (level === 2 && maxDepth() === 2) {\r\n      node.h = createElement('h4');\r\n    }\r\n\r\n    node.li.dataset.level = level;\r\n    node.li.dataset.index = index;\r\n    node.h.dataset.id = item.Id;\r\n\r\n    node.h.textContent = item.Heading || item.Title;\r\n\r\n    node.li.appendChild(node.a);\r\n    node.a.appendChild(node.h);\r\n\r\n    node.a.tabIndex = 0;\r\n\r\n    node.li.className = liClasses[level - 1];\r\n    node.a.className = aClasses[level - 1];\r\n    node.p.className = 'a-leadText';\r\n    node.ul.className = ulClasses[level - 1];\r\n\r\n    if (level === 3) {\r\n      span = createElement('span');\r\n      span.className = 'a-colnav-rightText';\r\n      span.textContent = item.Provider || 'Skatteetaten';\r\n      node.a.appendChild(span);\r\n    } else if (level === 1) {\r\n      node.a.appendChild(node.p);\r\n    }\r\n\r\n    if (level < maxDepth()) {\r\n      node.li.appendChild(node.ul);\r\n      node.a.className += ' a-js-colnavLink';\r\n    } else {\r\n      node.a.className += ' a-js-colnavLinkAlt';\r\n    }\r\n\r\n    return node;\r\n  }\r\n\r\n  populateSublevel = function(items, $ul, level) {\r\n    var i;\r\n    var item = null;\r\n    var fragmmentNode = null;\r\n    var fragment = document.createDocumentFragment();\r\n\r\n    if ($ul.children().length > 0 || items == null) {\r\n      return;\r\n    }\r\n\r\n    time('populateSublevel');\r\n    for (i = 0; i < items.length; i += 1) {\r\n      item = items[i];\r\n      fragmmentNode = createMenuNodeFragment(item,\r\n        level,\r\n        i);\r\n      if (item.Url) {\r\n        fragmmentNode.a.href = item.Url;\r\n      }\r\n      if (item.Description) {\r\n        fragmmentNode.p.textContent = item.Description;\r\n      }\r\n      fragment.appendChild(fragmmentNode.li);\r\n    }\r\n\r\n    $ul[0].appendChild(fragment);\r\n    $('.a-colnav-wrapper > .a-colnav').show();\r\n    timeEnd('populateSublevel');\r\n    if (level === 1) {\r\n      createDropDown();\r\n      attachMenuEventHandlers();\r\n    } else {\r\n      attachSubMenuEventHandlers($ul);\r\n    }\r\n  };\r\n\r\n  function populateDataObject(data, level) {\r\n    var i = null;\r\n\r\n    for (i = 0; i < data.length; i += 1) {\r\n      currentData[i] = data[i];\r\n    }\r\n  }\r\n\r\n  function populateNavigation(str, data) {\r\n    time('populateNavigation');\r\n    currentData = [];\r\n    populateDataObject(data, 1);\r\n    populateSublevel(currentData, elements.$rootColnav, 1);\r\n    hideLoader();\r\n    enableToggles();\r\n    timeEnd('populateNavigation');\r\n  }\r\n\r\n  function afterRequest(str, data) {\r\n    timeEnd('getDrilldownSource');\r\n    time('afterRequest');\r\n    elements.$rootColnav = $('.a-colnav-wrapper > .a-colnav');\r\n    // empty() would be a safer way to remove the elements, but it's\r\n    // slower\r\n    // elements.$rootColnav.empty();\r\n    elements.$rootColnav.html('');\r\n    timeEnd('afterRequest');\r\n    populateNavigation(str, data);\r\n  }\r\n\r\n  function getDrilldownSource(str) {\r\n    var url = endPointUrl + str;\r\n    time('getDrilldownSource');\r\n    showLoader();\r\n    disableToggles();\r\n    if (savedResults[str]) { // Get stored results if present\r\n      afterRequest(str, savedResults[str]);\r\n    } else {\r\n      // These hardcoded paths and IPs need to be fixed probably\r\n      if (window.location.pathname.indexOf('DesignSystem') === 1\r\n        || window.location.origin.indexOf('localhost') !== -1\r\n        || window.location.origin.indexOf('192.168.') !== -1) {\r\n        url += '.json';\r\n      }\r\n      $.ajax({\r\n        type: 'GET',\r\n        url: url,\r\n        success: function(data) {\r\n          savedResults[str] = data;\r\n          afterRequest(str, data); // Perform populating logic\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  function resizedWindow() {\r\n    var wasSmall = isSmall;\r\n    // Redefine boolean for determining screen size\r\n    isSmall = $('.a-contentOverview').width() < 900;\r\n    // No change required if the window is still big/small\r\n    if (isSmall === wasSmall) {\r\n      return;\r\n    }\r\n    getDrilldownSource($(keys.toggleInput + keys.checked).data(keys.switchurl));\r\n    if (!isSmall) {\r\n      // Ensure reset of markup\r\n      $('.switch-container').show();\r\n      $('.a-js-colnavTitleRegular').text('Alle skjemaer');\r\n    }\r\n    if (isSmall) { // Small screen specific style (can be moved to stylesheet)\r\n      $('.a-contentOverview').css('overflow-x', 'hidden');\r\n    }\r\n  }\r\n\r\n  function onBodyClick(e) {\r\n    var arr = [];\r\n    if (!isSmall) {\r\n      if ($(e.target).closest('.a-colnav-firstLevel').length === 0) {\r\n        $('a.open').each(function() {\r\n          arr.push($(this));\r\n        });\r\n        arr.reverse();\r\n        arr.forEach(function(item) {\r\n          item.parent().trigger('mouseup');\r\n        });\r\n      }\r\n    }\r\n  }\r\n\r\n  function performResizeLogicAfterResizeEvents() {\r\n    var resizeTimeout;\r\n    window.onresize = function() {\r\n      clearTimeout(resizeTimeout);\r\n      resizeTimeout = setTimeout(resizedWindow, 100);\r\n    };\r\n  }\r\n\r\n  function setSwitchUrlAttribute() {\r\n    $(keys.toggleInput).each(function(index) {\r\n      $(this).data(keys.switchurl,\r\n        $(this).parents().eq(2).data(keys.switchurl + (index + 1))\r\n      );\r\n      $(this).prop('data-' + keys.switchurl,\r\n        $(this).parents().eq(2).data(keys.switchurl + (index + 1))\r\n      );\r\n    });\r\n  }\r\n\r\n  function onToggleChange() {\r\n    if ($(this).is(keys.checked)) {\r\n      setHistoryState(null);\r\n      getDrilldownSource($(this).data(keys.switchurl));\r\n    }\r\n  }\r\n\r\n  function detectSelectedSourceChange() {\r\n    $(keys.toggleInput).change(onToggleChange);\r\n  }\r\n\r\n  function loadDrillDownSource() {\r\n    var selectedIndex = 1;\r\n    var dataSource = 'get';\r\n    var urlCategory = urlQuery(keys.category);\r\n    // Chose category/kategori by default\r\n    currentCategory = category.category;\r\n    // and see if the URL contains the selected category already\r\n    if (urlCategory !== null && urlCategory !== false) {\r\n      currentCategory = urlCategory;\r\n    }\r\n    if (currentCategory === category.provider) {\r\n      selectedIndex = 2;\r\n    }\r\n    dataSource += currentCategory;\r\n    $(keys.toggleInput).prop('checked', false);\r\n    // Maybe not so robust to use the id, but it's the only way we have to\r\n    // identify each checkbox at this point\r\n    $('#atom-switch-cb' + selectedIndex).prop('checked', true);\r\n    getDrilldownSource(dataSource);\r\n  }\r\n\r\n  function getElements() {\r\n    elements.$rootColnav = $('.a-colnav-wrapper > .a-colnav');\r\n  }\r\n\r\n  $(document).ready(function() {\r\n    endPointUrl = $(keys.toggleInput).parents().eq(3).data('switchendpoint');\r\n    getElements();\r\n    if (elements.$rootColnav.length > 0) { // Check if drilldown markup is present\r\n      if (isSmall) { // Small screen specific style (can be moved to stylesheet)\r\n        $('.a-contentOverview').css('overflow-x', 'hidden');\r\n      }\r\n      attachEventHandlers();\r\n      loadDrillDownSource();\r\n      performResizeLogicAfterResizeEvents();\r\n      setSwitchUrlAttribute();\r\n      detectSelectedSourceChange();\r\n      $('body').on('click', onBodyClick);\r\n    }\r\n  });\r\n};\r\n","/* globals $ */\r\nvar genericSearch = function() {\r\n  var dimensions;\r\n  var base;\r\n  var page = 0;\r\n  var articlesPerPage = 20;\r\n  var inputBy;\r\n  var selection = [];\r\n  var dataList;\r\n  var elements = {};\r\n\r\n  var keys = {\r\n    forceHiddenClass: 'a-js-forceHidden',\r\n    genericSearchSelector: '.a-js-genericSearch',\r\n    showResultsButtonSelector: '.a-js-expandResults',\r\n    tagFilterSectionSelector: '.a-card-filter',\r\n    generalArticleSelector: 'a-js-underneath'\r\n  };\r\n\r\n  function arrayIncludes(array, element) {\r\n    var newArray;\r\n    var includes;\r\n\r\n    if (array.includes) {\r\n      includes = array.includes(element);\r\n    } else { // IE\r\n      newArray = array.filter(function(el) {\r\n        return el === element;\r\n      });\r\n      includes = newArray.length > 0;\r\n    }\r\n\r\n    return includes;\r\n  }\r\n\r\n  function grinder(item) {\r\n    var i;\r\n    var j;\r\n    var itemDimension;\r\n    var isMatch = false;\r\n    var itemDimensionsCount = 0;\r\n\r\n    for (i = 0; i < dimensions.length; i += 1) {\r\n      itemDimensionsCount += item[dimensions[i].name].length;\r\n      for (j = 0; j < item[dimensions[i].name].length; j += 1) {\r\n        itemDimension = item[dimensions[i].name][j];\r\n        if (arrayIncludes(selection, 'd' + (i + 1) + '-' + itemDimension)) {\r\n          isMatch = true;\r\n          break;\r\n        }\r\n      }\r\n    }\r\n\r\n    // General item\r\n    if (itemDimensionsCount === 0) {\r\n      isMatch = true;\r\n    }\r\n\r\n    return isMatch;\r\n  }\r\n\r\n  function tags() {\r\n    return $(keys.tagFilterSectionSelector).find('input[type=\"checkbox\"].sr-only');\r\n  }\r\n\r\n  function selectedTags() {\r\n    return $(keys.tagFilterSectionSelector).find('input[type=\"checkbox\"]:checked.sr-only');\r\n  }\r\n\r\n  function urlFilterPrefix(id) {\r\n    return id.replace('filterDim1ID', 'd1-').replace('filterDim2ID', 'd2-');\r\n  }\r\n\r\n  function resetPage() {\r\n    page = 1;\r\n  }\r\n\r\n  // TODO: This method is copied from colnavCustom.js, should be put in a common\r\n  // module\r\n  function urlQuery(query) { // Parse current URL for query value\r\n    var _query = query.replace(/[[]/, '[').replace(/[\\]]/, '\\\\]');\r\n    var expr = '[\\\\?&]' + _query + '=([^&#]*)';\r\n    var regex = new RegExp(expr);\r\n    var results = regex.exec(window.location.href);\r\n    if (results !== null) {\r\n      return results[1];\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function getDataSource(index) {\r\n    var dataSources = $(keys.genericSearchSelector).attr('data-source').split(',');\r\n    var dataUrl = dataSources[index];\r\n    if (window.location.pathname.indexOf('/DesignSystem/') === -1 && window.location.origin.indexOf('/localhost') === -1) {\r\n      // Do not add the language attribute when running locally or in Github\r\n      dataUrl += '/' + $('html').attr('lang');\r\n    }\r\n\r\n    return dataUrl;\r\n  }\r\n\r\n  function getSelection() {\r\n    var id;\r\n    var idPattern = /d(\\d+)-.*/;\r\n    var match;\r\n    var dimension;\r\n    var dimensionIndex;\r\n    var index;\r\n\r\n    selection = [];\r\n    for (index = 0; index < dimensions.length; index += 1) {\r\n      dimension = dimensions[index];\r\n      dimension.isSelected = false;\r\n      dimension.selectedCount = 0;\r\n    }\r\n    selectedTags().each(function() {\r\n      id = urlFilterPrefix($(this).attr('name'));\r\n      match = idPattern.exec(id);\r\n      if (match != null && match.length > 1) {\r\n        dimensionIndex = match[1] - 1;\r\n        dimensions[dimensionIndex].isSelected = true;\r\n        dimensions[dimensionIndex].selectedCount += 1;\r\n      }\r\n      selection.push(id);\r\n    });\r\n  }\r\n\r\n  function userHasSelectedTags() {\r\n    return selection.length > 0;\r\n  }\r\n\r\n  function setHistoryState() {\r\n    var newurl = window.location.pathname;\r\n    var urlQueryString = '?filter=';\r\n    if (selection.length > 0) {\r\n      urlQueryString += selection.join(',');\r\n      newurl += urlQueryString;\r\n    }\r\n    if (history.replaceState) {\r\n      window.history.replaceState({\r\n        path: newurl\r\n      }, '', newurl);\r\n    }\r\n  }\r\n\r\n  function getUrlFilter() {\r\n    if (urlQuery('filter')) {\r\n      selection = urlQuery('filter').split(',');\r\n    }\r\n  }\r\n\r\n  function hideContainers() {\r\n    elements.$container.hide();\r\n    if (elements.$altContainer !== null) {\r\n      elements.$altContainer.hide();\r\n    }\r\n  }\r\n\r\n  function showContainers() {\r\n    if (dimensions[1].isSelected) {\r\n      elements.$container.hide();\r\n      if (elements.$altContainer !== null) {\r\n        elements.$altContainer.show();\r\n        elements.$altContainer.removeClass(keys.forceHiddenClass);\r\n      }\r\n    } else {\r\n      elements.$container.show();\r\n      elements.$container.removeClass(keys.forceHiddenClass);\r\n      if (elements.$altContainer !== null) {\r\n        elements.$altContainer.hide();\r\n      }\r\n    }\r\n  }\r\n\r\n  function setElementsVisibility(filteredList) {\r\n    if (userHasSelectedTags()) {\r\n      elements.$loadMoreButton[filteredList.length <= articlesPerPage * page ? 'hide' : 'show']();\r\n      elements.$noResultsMessage[filteredList.length === 0 ? 'show' : 'hide']();\r\n      elements.$showResultsButton.removeAttr('disabled');\r\n      elements.$showResultsButton.removeClass(keys.forceHiddenClass);\r\n      elements.$showResultsButton.show();\r\n    } else {\r\n      elements.$showResultsButton.hide();\r\n    }\r\n  }\r\n\r\n  function showResults() {\r\n    $('.a-collapse-title').not('.collapsed').click();\r\n    elements.$container.removeClass(keys.forceHiddenClass);\r\n    if (elements.$altContainer !== null) {\r\n      elements.$altContainer.removeClass(keys.forceHiddenClass);\r\n    }\r\n    elements.$loadMoreButton.removeClass(keys.forceHiddenClass);\r\n    elements.$showResultsButton.hide();\r\n    showContainers();\r\n    $('body').scrollTop($('.a-js-filterDim1').offset().top - 12);\r\n  }\r\n\r\n  function setDimenstionLabels() {\r\n    var $dimensionSectionContainer = null;\r\n    var $noSelectionLabel = null;\r\n    var $selectionLabel = null;\r\n    var $selectionLabelType = null;\r\n\r\n    dimensions.forEach(function(dimension, index) {\r\n      $dimensionSectionContainer = $('.a-js-filterDim' + (index + 1));\r\n      $noSelectionLabel = $dimensionSectionContainer.find('.a-js-none');\r\n      $selectionLabel = $noSelectionLabel.prev();\r\n      $selectionLabel.find('.badge').html(dimension.selectedCount);\r\n      $selectionLabelType = $selectionLabel.find('.a-js-card-filter-type');\r\n      switch (dimension.selectedCount) {\r\n      case 0:\r\n        $noSelectionLabel.show();\r\n        $selectionLabel.hide();\r\n        break;\r\n      case 1:\r\n        $noSelectionLabel.hide();\r\n        $selectionLabel.show();\r\n        $selectionLabelType.text($selectionLabelType.attr('data-singular-text'));\r\n        break;\r\n      default:\r\n        $noSelectionLabel.hide();\r\n        $selectionLabel.show();\r\n        $selectionLabelType.text($selectionLabelType.attr('data-plural-text'));\r\n        break;\r\n      }\r\n    });\r\n  }\r\n\r\n  function hideResultItems() {\r\n    elements.$container.find('.a-js-result').hide();\r\n    if (elements.$altContainer !== null) {\r\n      elements.$altContainer.find('.a-js-result').hide();\r\n    }\r\n  }\r\n\r\n  function setAboveItemsVisibility(filteredList, maxNumberOfItemsToDisplay) {\r\n    var aboveCount = 0;\r\n    var i = 0;\r\n    var item;\r\n\r\n    while (i < filteredList.length && aboveCount < maxNumberOfItemsToDisplay) {\r\n      item = filteredList[i];\r\n      $('#' + item.id).show();\r\n      if (item.isAbove) {\r\n        $('#' + item.altId).show();\r\n        aboveCount += 1;\r\n      }\r\n      i += 1;\r\n    }\r\n\r\n    return aboveCount;\r\n  }\r\n\r\n  function setBelowItemsVisibility(filteredList, maxNumberOfItemsToDisplay) {\r\n    var showExtraHeading = false;\r\n    var belowCount = 0;\r\n    var i = 0;\r\n    var item;\r\n    var $altItem = null;\r\n\r\n    while (i < filteredList.length\r\n      && belowCount < maxNumberOfItemsToDisplay) {\r\n      item = filteredList[i];\r\n      if (!item.isAbove) {\r\n        $altItem = $('#' + item.altId);\r\n        if ($altItem.hasClass(keys.generalArticleSelector)) {\r\n          showExtraHeading = true;\r\n        }\r\n        $altItem.show();\r\n        belowCount += 1;\r\n      }\r\n      i += 1;\r\n    }\r\n\r\n    return showExtraHeading;\r\n  }\r\n\r\n  function filterArticles() {\r\n    var aboveCount = 0;\r\n    var filteredList = [];\r\n    var showExtraHeading;\r\n    var maxNumberOfItemsToDisplay;\r\n\r\n    getSelection();\r\n    setHistoryState();\r\n    setDimenstionLabels();\r\n    hideResultItems();\r\n    filteredList = dataList.filter(grinder);\r\n    maxNumberOfItemsToDisplay = articlesPerPage * page;\r\n\r\n    aboveCount = setAboveItemsVisibility(filteredList, maxNumberOfItemsToDisplay);\r\n    if (aboveCount < maxNumberOfItemsToDisplay) {\r\n      maxNumberOfItemsToDisplay -= aboveCount;\r\n      showExtraHeading = setBelowItemsVisibility(filteredList, maxNumberOfItemsToDisplay);\r\n    }\r\n\r\n    if (showExtraHeading) {\r\n      elements.$extraResultsHeading.show();\r\n    } else {\r\n      elements.$extraResultsHeading.hide();\r\n    }\r\n\r\n    setElementsVisibility(filteredList);\r\n    hideContainers();\r\n  }\r\n\r\n  function appendExtraResultsHeading() {\r\n    if (elements.$altContainer !== null) {\r\n      elements.$altContainer.append('<span class=\"a-js-top\"></span>');\r\n      elements.$altContainer.append(elements.$altContainer.attr('data-extraresultsheading'));\r\n      elements.$altContainer.append('<span class=\"a-js-bottom\"></span>');\r\n      elements.$extraResultsHeading = $('.a-js-extraHeading');\r\n    }\r\n  }\r\n\r\n  function createResultElement(template, name, url, description, id, cssClasses) {\r\n    return template.replace('%NAME%', name)\r\n      .replace(/%URL%/g, url)\r\n      .replace('%DESC%', description || 'Ingen beskrivelse.')\r\n      .replace('%IDENTIFIER%', id)\r\n      .replace('a-linkArticle', cssClasses);\r\n  }\r\n\r\n  function buildResultsList(mappedKeys) {\r\n    var element;\r\n    var name;\r\n    var url;\r\n    var description;\r\n    var id;\r\n    var cssClasses;\r\n\r\n    dataList.forEach(function(item, index) {\r\n      dataList[index].id = 'result-' + index;\r\n      dataList[index].altId = 'altResult-' + index;\r\n      if (item.Purposes.length !== 0 || item.Industries.length !== 0) {\r\n        dataList[index].isAbove = true;\r\n      } else {\r\n        dataList[index].isAbove = false;\r\n      }\r\n      name = item[mappedKeys.NAME];\r\n      url = item[mappedKeys.URL];\r\n      description = item[mappedKeys.DESC] || 'Ingen beskrivelse.';\r\n      id = 'result-' + index;\r\n      cssClasses = 'a-linkArticle a-js-result';\r\n      element = createResultElement(base, name, url, description, id, cssClasses);\r\n      elements.$container.append(element);\r\n\r\n      id = 'altResult-' + index;\r\n      if (dataList[index].isAbove) {\r\n        element = createResultElement(base, name, url, description, id, cssClasses);\r\n        elements.$extraResultsHeading.before(element);\r\n      } else {\r\n        cssClasses = 'a-linkArticle a-js-result ' + keys.generalArticleSelector;\r\n        element = createResultElement(base, name, url, description, id, cssClasses);\r\n        if (elements.$altContainer !== null) {\r\n          elements.$altContainer.append(element);\r\n        }\r\n      }\r\n    });\r\n    elements.$container.find('.a-js-result').each(function(index, item) {\r\n      $(this)[index < articlesPerPage * page ? 'show' : 'hide']();\r\n    });\r\n    resetPage();\r\n    elements.$loader.hide();\r\n    filterArticles();\r\n  }\r\n\r\n  function toggleTag() {\r\n    resetPage();\r\n    filterArticles();\r\n  }\r\n\r\n  function getDimensionNames() {\r\n    var dimensionNames;\r\n    var dimensionAliases;\r\n    var dimensionIndex;\r\n    var parts;\r\n    var i;\r\n\r\n    dimensions = [];\r\n    dimensionNames = $(keys.genericSearchSelector).attr('data-dimensions').split(',');\r\n    dimensionAliases = $(keys.genericSearchSelector).attr('data-dimensionsaliases').split(',');\r\n    for (i = 0; i < dimensionNames.length; i += 1) {\r\n      dimensions.push({\r\n        name: dimensionNames[i],\r\n        alias: dimensionAliases[i],\r\n        isSelected: false,\r\n        selectedCount: 0\r\n      });\r\n    }\r\n  }\r\n\r\n  function getMappedKeys() {\r\n    var mappedKeys = {};\r\n    var parts;\r\n\r\n    $(keys.genericSearchSelector).attr('data-mappedkeys').split(',').forEach(function(pair) {\r\n      parts = pair.split('=');\r\n      mappedKeys[parts[0]] = parts[1];\r\n    });\r\n\r\n    return mappedKeys;\r\n  }\r\n\r\n  function buildTagsAndDimensions(data) {\r\n    var lastKeypress;\r\n    var iterate;\r\n    var mappedKeys;\r\n\r\n    getDimensionNames();\r\n    mappedKeys = getMappedKeys();\r\n\r\n    dimensions.forEach(function(dimension, index) {\r\n      var hasNote = $('.a-js-filterDim' + (index + 1)).find('.d-block').length > 0;\r\n      var where = data[dimension.name + 'List'] ?\r\n        data[dimension.name + 'List'] : data[dimensions[index].alias + 'List'];\r\n      where.forEach(function(item) {\r\n        var $tag = $('<div class=\"a-switch\">' +\r\n          $('.a-js-filterDim' + (index + 1)).find('.a-switch').eq(0).html()\r\n            .replace(/%ID%/g, item[mappedKeys.ID])\r\n            .replace('%TITLE%', item[mappedKeys.TITLE]) + '</div>');\r\n        var $input = $tag.find('input[type=\"checkbox\"]');\r\n        var tagId = urlFilterPrefix($input.attr('id'));\r\n        if (arrayIncludes(selection, tagId)) {\r\n          $input.attr('checked', true);\r\n        }\r\n        $('.a-js-filterDim' + (index + 1))\r\n          .find(hasNote ? '.d-block' : '.text-sm-center')[hasNote ? 'before' : 'append']($tag);\r\n      });\r\n      $('.a-js-filterDim' + (index + 1)).find('.a-switch').eq(0).hide();\r\n    });\r\n    tags().on('change', toggleTag);\r\n    // Give the browser time to update the UI\r\n    setTimeout(function() {\r\n      buildResultsList(mappedKeys);\r\n    }, 0);\r\n  }\r\n\r\n  function processData(data) {\r\n    var lastKeypress;\r\n    var iterate;\r\n\r\n    if (inputBy === 'filter') {\r\n      // We keep the order the in the data sent by the server\r\n      dataList = data.SubsidiesList;\r\n    }\r\n    $(keys.genericSearchSelector).next().find(keys.tagFilterSectionSelector).show();\r\n    if (inputBy === 'search') {\r\n      $(keys.genericSearchSelector).find('form').on('keyup keypress', function(e) {\r\n        var keyCode = e.keyCode || e.which;\r\n        if (keyCode === 13) {\r\n          e.preventDefault();\r\n          return false;\r\n        }\r\n        return true;\r\n      });\r\n      $(keys.genericSearchSelector).find('form').find('input[type=search]')\r\n        .on('keypress', function() {\r\n          lastKeypress = new Date().getTime();\r\n          iterate = true;\r\n          elements.$loader.show();\r\n          elements.$legend.hide();\r\n          elements.$noResultsMessage.hide();\r\n          elements.$container.html('');\r\n        }\r\n        );\r\n      setInterval(function() {\r\n        var value = $(keys.genericSearchSelector).find('form').find('input[type=search]')\r\n          .val();\r\n        var query = value !== undefined ? value.toLowerCase() : '';\r\n        if (query.length > 0 && (new Date().getTime() - lastKeypress > 1500) && iterate) {\r\n          iterate = false;\r\n          data.items.forEach(function(item) {\r\n            if (item.name.toLowerCase().indexOf(query) !== -1 ||\r\n              item.parent.toLowerCase().indexOf(query) !== -1) {\r\n              elements.$container[item.name.toLowerCase().indexOf(query) !== -1 ? 'prepend' : 'append'](\r\n                base.replace('%NAME%', item.name).replace('%PARENT%', item.parent)\r\n                  .replace(/%URL%/g, item.url).replace('../..', '')\r\n              );\r\n            }\r\n          });\r\n          elements.$loader.hide();\r\n          elements.$noResultsMessage[elements.$container.html() === '' ? 'show' : 'hide']();\r\n          elements.$legend[elements.$container.html() === '' ? 'hide' : 'show']();\r\n        }\r\n      }, 2000);\r\n    } else {\r\n      buildTagsAndDimensions(data);\r\n    }\r\n  }\r\n\r\n  function onSecondError() {\r\n    $.getJSON(getDataSource(2), processData);\r\n  }\r\n\r\n  function onError() {\r\n    $.ajax({\r\n      type: 'GET', url: getDataSource(1), success: processData, error: onSecondError\r\n    });\r\n  }\r\n\r\n  function addEventHandlers() {\r\n    elements.$showResultsButton.on('click', showResults);\r\n    elements.$loadMoreButton.on('click', function() {\r\n      page += 1;\r\n      filterArticles();\r\n      showContainers();\r\n    });\r\n  }\r\n\r\n  function findElements() {\r\n    if (inputBy === 'search') {\r\n      elements.$container = $(keys.genericSearchSelector).find('.a-list');\r\n      elements.$altContainer = null;\r\n    } else {\r\n      elements.$container = $(keys.genericSearchSelector).next().find('.a-js-results');\r\n      elements.$altContainer = $(keys.genericSearchSelector).next().find('.a-js-alternativeResults');\r\n    }\r\n    base = elements.$container.html();\r\n    elements.$genericSearch = $(keys.genericSearchSelector);\r\n    if (inputBy !== 'search') {\r\n      elements.$genericSearch = elements.$genericSearch.next();\r\n    }\r\n    elements.$legend = elements.$genericSearch.find('.a-legend');\r\n    elements.$loader = elements.$genericSearch.find('.a-loader');\r\n    elements.$noResultsMessage = elements.$genericSearch.find('.a-js-noResults');\r\n    elements.$showResultsButton = $(keys.showResultsButtonSelector);\r\n    elements.$loadMoreButton = $('.a-js-moreResults');\r\n  }\r\n\r\n  function initialLayout() {\r\n    elements.$container.find('li:gt(0)').remove();\r\n    elements.$container.find('.a-js-result:gt(0)').remove();\r\n    elements.$container.html('');\r\n    if (elements.$altContainer !== null) {\r\n      elements.$altContainer.html('');\r\n    }\r\n  }\r\n\r\n  function getInputType() {\r\n    inputBy = $(keys.genericSearchSelector).find('input[type=search]').length > 0 ? 'search' : 'filter';\r\n  }\r\n\r\n  function getData() {\r\n    var dataUrl = getDataSource(0);\r\n    // This line only for development, do not commit uncommented\r\n    // dataUrl = '/data/getsubsidy.json';\r\n    $.ajax({ type: 'GET', url: dataUrl, success: processData, error: onError });\r\n  }\r\n\r\n  if ($(keys.genericSearchSelector).length > 0) {\r\n    getUrlFilter();\r\n    getInputType();\r\n    findElements();\r\n    initialLayout();\r\n    appendExtraResultsHeading();\r\n    addEventHandlers();\r\n    // Give the browser time to update the UI\r\n    setTimeout(getData, 0);\r\n  }\r\n};\r\n","/* globals $, Foundation */\r\nvar listenForAttachmentChanges = function(formId, errorMessageCallback) {\r\n  var maxSizeInMb = 15;\r\n  var maxSizeInBytes = maxSizeInMb * 1024 * 1024;\r\n  var allowedExtensions = [\r\n    'bmp', 'jpg', 'jpeg', 'png', 'gif', 'txt', 'log', 'csv', 'doc', 'docx', 'xls', 'xlsx', 'ppt',\r\n    'pptx', 'pdf', 'odt', 'ods', 'odp', 'rtf', 'rar', 'zip', '7z', 'gdoc', 'gsheet', 'gslide', 'htm',\r\n    'html', 'eml', 'msg'\r\n  ];\r\n\r\n  var fileInput = $(formId).find('.a-js-uploadAttachment').find('#newCertificateInput');\r\n  var attachmentErrorBox = $(formId).find('.a-js-upload-error');\r\n  var attachmentBox = $(formId).find('.a-js-attachment-box');\r\n  var attachmentNameText = $(attachmentBox).find('.a-js-attachment-name');\r\n  var deleteAttachmentButton = $(attachmentBox).find('.a-btn-delete');\r\n  var selectedFile = '';\r\n\r\n  attachmentErrorBox.hide();\r\n  attachmentBox.hide();\r\n\r\n  deleteAttachmentButton.click(function() {\r\n    fileInput.val(''); // reset content\r\n    attachmentBox.hide();\r\n    attachmentErrorBox.hide();\r\n    fileInput.parent().show();\r\n  });\r\n\r\n  $(fileInput).change(function(event) {\r\n    if (event.target.files.length > 0) {\r\n      selectedFile = event.target.files[0];\r\n    }\r\n\r\n    function handleFile(file) {\r\n      var fileName = file.name;\r\n      var extension = fileName.split('.').pop();\r\n      var byteSize = file.size;\r\n\r\n      var validExtension = $.inArray(extension, allowedExtensions) > -1;\r\n      var validFileSize = maxSizeInBytes > byteSize;\r\n\r\n      if (validExtension && validFileSize) {\r\n        // success:\r\n        // set file name and show 'attachment box'\r\n        // hide 'error box'\r\n        // hide upload button\r\n\r\n        attachmentNameText.text(fileName);\r\n        attachmentBox.show();\r\n        attachmentErrorBox.hide();\r\n        fileInput.parent().hide();\r\n      } else {\r\n        // failure:\r\n        // hide 'attachment box'\r\n        // show 'error box'\r\n        // show upload button\r\n        attachmentBox.hide();\r\n        attachmentErrorBox.show();\r\n        fileInput.parent().show();\r\n      }\r\n\r\n      if (!validFileSize) {\r\n        attachmentErrorBox.find('.a-message-error').text(errorMessageCallback('size') + ': ' + maxSizeInMb + 'MB');\r\n      } else if (!validExtension) {\r\n        attachmentErrorBox.find('.a-message-error').text(errorMessageCallback('ext') + ': ' + allowedExtensions.join(', '));\r\n      }\r\n    }\r\n\r\n    if (selectedFile) {\r\n      handleFile(selectedFile);\r\n    } else {\r\n      attachmentBox.hide();\r\n    }\r\n  });\r\n};\r\n","/* globals $ */\r\n\r\nvar newsArchive = function() {\r\n  var page = 1;\r\n  var numberOfItemsPerPage = 5;\r\n  var rootSelector = '.a-newsArchive';\r\n  var articleCssSelector = '.a-linkArticle';\r\n  var $loadMoreButton = $('.a-btn-loadMore');\r\n  var articlesCount = $(articleCssSelector).length;\r\n\r\n  function visibleItems() {\r\n    return page * numberOfItemsPerPage;\r\n  }\r\n\r\n  function setButtonVisibility() {\r\n    if (articlesCount <= visibleItems()) {\r\n      $loadMoreButton.hide();\r\n    }\r\n  }\r\n\r\n  if ($(rootSelector).length > 0) {\r\n    $loadMoreButton.on('click', function() {\r\n      var articles;\r\n      page += 1;\r\n      $(':nth-child(n+' + (visibleItems() + 1) + ')' + articleCssSelector).hide();\r\n      $(':nth-child(-n+' + visibleItems() + ')' + articleCssSelector).show();\r\n      setButtonVisibility();\r\n    });\r\n\r\n    setButtonVisibility();\r\n  }\r\n};\r\n","/* globals $ */\r\nvar questionnaireInteraction = function() {\r\n  $('.a-trigger-question').each(function() {\r\n    $(this).find('input').on('change', function() {\r\n      $(this).parent().parent().parent()\r\n        .parent()\r\n        .next()\r\n        .css('display', 'block');\r\n    });\r\n  });\r\n};\r\n","/* globals $ */\r\nfunction setupFormValidation(formId, buttonId) {\r\n  var $submitBtn = $(buttonId);\r\n  var wasSubmitted = false;\r\n  var storedString = '';\r\n  var validDropdown = function(el) {\r\n    if (\r\n      el.attr('required') !== undefined && el.attr('required') === 'required' &&\r\n      el.attr('data-dropdowndefaultvalue') === el.find('.a-form-text').text()\r\n    ) {\r\n      el.closest('.a-form-group').addClass('has-error').find('.a-message-error').css('display', 'table');\r\n    } else {\r\n      el.closest('.a-form-group').removeClass('has-error').find('.a-message-error').css('display', 'none');\r\n    }\r\n  };\r\n  var validAllDropdowns = function() {\r\n    var invalids = [];\r\n    $('.a-js-dropdownToValidate').each(function(index, el) {\r\n      if (\r\n        $(el).attr('required') !== undefined && $(el).attr('required') === 'required' &&\r\n        $(el).attr('data-dropdowndefaultvalue') === $(el).find('.a-form-text').text()\r\n      ) {\r\n        invalids.push(index);\r\n      }\r\n    });\r\n    return invalids.length === 0;\r\n  };\r\n  var validAllReferancials = function() {\r\n    var invalids = [];\r\n    $('.a-js-validateThisAgainstPrev').each(function(index, el) {\r\n      if (\r\n        $(el).closest('.a-form-group').hasClass('has-error')\r\n      ) {\r\n        invalids.push(index);\r\n      }\r\n    });\r\n    return invalids.length === 0;\r\n  };\r\n  var validateBackwards = function(el) {\r\n    if (el.prev().find('.a-js-dropdownToValidate').length > 0) {\r\n      validDropdown(el.prev().find('.a-js-dropdownToValidate'));\r\n      validateBackwards(el.prev());\r\n    } else if (el.prev().hasClass('form-group')) {\r\n      if (el.prev().find('input:not(.a-js-validateThisAgainstPrev)').length > 0) {\r\n        el.prev().find('input:not(.a-js-validateThisAgainstPrev)').valid();\r\n      }\r\n      if (el.prev().find('.a-js-validateThisAgainstPrev').length > 0) {\r\n        el.prev().find('.a-js-validateThisAgainstPrev').trigger('change');\r\n      }\r\n      if (el.prev().find('textarea').length > 0) {\r\n        el.prev().find('textarea').valid();\r\n      }\r\n      validateBackwards(el.prev());\r\n    }\r\n  };\r\n  var validateAgainstPrev = function() {\r\n    if ($(this).closest('.form-group').prev().find('.a-message-error')\r\n      .text() !== '') {\r\n      $(this).closest('.form-group').find('.a-message-error').text(\r\n        $(this).closest('.form-group').prev().find('.a-message-error')\r\n          .text()\r\n      );\r\n      storedString = $(this).closest('.form-group').prev().find('.a-message-error')\r\n        .text();\r\n    } else {\r\n      $(this).closest('.form-group').find('.a-message-error').text(\r\n        storedString\r\n      );\r\n    }\r\n    if ($(this).val() !==\r\n      $(this).closest('.form-group').prev().find('input')\r\n        .val() || $(this).val() === '') {\r\n      setTimeout(function() {\r\n        $(this).closest('.a-form-group').addClass('has-error').find('.a-message-error')\r\n          .css('display', 'table');\r\n      }.bind(this), 0);\r\n    } else {\r\n      $(this).closest('.a-form-group').removeClass('has-error').find('.a-message-error')\r\n        .css('display', 'none');\r\n    }\r\n  };\r\n\r\n  var validateForm = function() {\r\n    var str;\r\n    if ($(formId).validate().checkForm() && validAllDropdowns() && validAllReferancials()) {\r\n      $submitBtn.prop('disabled', false);\r\n      $submitBtn.removeClass('disabled');\r\n    } else {\r\n      $submitBtn.prop('disabled', 'disabled');\r\n      $submitBtn.addClass('disabled');\r\n    }\r\n\r\n    if (!wasSubmitted) {\r\n      $(formId).validate().submitted = {};\r\n    }\r\n  };\r\n\r\n  $(formId + ' .a-js-dropdownToValidate').each(function() {\r\n    $(this).attr('data-dropdowndefaultvalue', $(this).find('.a-form-text').text());\r\n  });\r\n\r\n  if (!buttonId) {\r\n    $submitBtn = $(formId + ' button[type=\"submit\"]');\r\n  }\r\n  $.validator.unobtrusive.parse($(formId));\r\n\r\n  $submitBtn.addClass('disabled');\r\n  $submitBtn.prop('disabled', 'disabled');\r\n\r\n  $(formId).on('blur input change', '*', validateForm);\r\n\r\n  $(formId + ' .a-js-dropdownToValidate').next().on('click', function() {\r\n    setTimeout(function() {\r\n      validDropdown($(this).prev());\r\n    }.bind(this), 0);\r\n    validateBackwards($(this).closest('.form-group'));\r\n  });\r\n\r\n  $(formId + ' .a-js-dropdownToValidate').on('blur', function() {\r\n    validDropdown($(this));\r\n    validateBackwards($(this).closest('.form-group'));\r\n  });\r\n  $('.a-js-certificateContainer').on('focus', function() {\r\n    $('.a-js-certificateContainer').closest('label').addClass('a-custom-fileupload--focused');\r\n  });\r\n  $('.a-js-certificateContainer').on('blur', function() {\r\n    $('.a-js-certificateContainer').closest('label').removeClass('a-custom-fileupload--focused');\r\n  });\r\n  $('.a-js-validateThisAgainstPrev').each(function() {\r\n    storedString = $(this).closest('.form-group').prev().find('input')\r\n      .attr('data-val-regex');\r\n  });\r\n\r\n  $(formId + ' .form-control').not('.a-js-validateThisAgainstPrev').on('blur change', function() {\r\n    var $nextInput = $('#text-input-epost1').closest('.form-group').next().find('.a-js-validateThisAgainstPrev');\r\n    if ($nextInput.length > 0 && $nextInput.val() !== '') {\r\n      validateAgainstPrev.bind($nextInput)();\r\n      setTimeout(function() {\r\n        validateForm();\r\n      }, 0);\r\n    }\r\n  });\r\n  $('.a-js-validateThisAgainstPrev').on('keyup', function(e) {\r\n    var hasError = $(this).closest('.form-group').hasClass('has-error');\r\n    e.stopPropagation();\r\n    if (hasError) {\r\n      validateAgainstPrev.bind(this)();\r\n    }\r\n  });\r\n\r\n  $('.a-js-validateThisAgainstPrev').on('change blur', function(e) {\r\n    e.stopPropagation();\r\n    validateAgainstPrev.bind(this)();\r\n  });\r\n}\r\n","/* globals $ */\r\nvar subscribe = function() {\r\n  var validate = function(elem, skipVal) {\r\n    var re = new RegExp(elem.attr('data-val-regex-pattern'));\r\n    if (re.test(elem.val())) {\r\n      elem.closest('.a-card').find('button').removeAttr('disabled')\r\n        .removeClass('disabled');\r\n    } else {\r\n      elem.closest('.a-card').find('button').attr('disabled', 'disabled')\r\n        .addClass('disabled');\r\n    }\r\n  };\r\n  if ($('.a-js-subscribe').length > 0) {\r\n    $('.a-js-subscribe').each(function() {\r\n      var _this = $(this);\r\n      _this.closest('.a-card').find('.a-js-finishText').hide();\r\n      _this.closest('.a-card').find('.a-js-altText').hide();\r\n      _this.find('input').on('input', function() {\r\n        validate($(this));\r\n      });\r\n      _this.find('input').on('keypress', function(e) {\r\n        var keyCode = e.keyCode || e.which;\r\n        if (keyCode === 13) {\r\n          e.preventDefault();\r\n          if (!_this.find('button').hasClass('disabled')) {\r\n            _this.find('button').trigger('click');\r\n          }\r\n        }\r\n      });\r\n      _this.find('button').on('click', function() {\r\n        var __this = $(this);\r\n        _this.find('.a-form-group-items.input-group').addClass('disabled')\r\n          .addClass('a-input-approved');\r\n        _this.find('input').attr('disabled', 'disabled');\r\n        _this.closest('.a-card').find('.a-js-finishText').show();\r\n        _this.closest('.a-card').find('.a-js-altText').hide();\r\n        __this.hide();\r\n        $('.a-js-undo').on('click', function() {\r\n          _this.find('.a-form-group-items.input-group').removeClass('disabled')\r\n            .removeClass('a-input-approved');\r\n          _this.find('input').removeAttr('disabled');\r\n          _this.closest('.a-card').find('.a-js-finishText').hide();\r\n          _this.closest('.a-card').find('.a-js-altText').show();\r\n          __this.show();\r\n        });\r\n      });\r\n    });\r\n  }\r\n};\r\n","/* globals $ */\r\nvar uniformHeight = function() {\r\n  var cardGroup = $('.a-card-group .row');\r\n  var maxheight;\r\n  if ($(window).width() >= 768) {\r\n    maxheight = 0;\r\n    cardGroup.children().each(function() {\r\n      if ($(this).height() > maxheight) {\r\n        maxheight = $(this).height();\r\n      }\r\n    });\r\n    cardGroup.children().children().css('min-height', maxheight);\r\n  } else {\r\n    cardGroup.children().children().css('min-height', 'auto');\r\n  }\r\n};\r\n","var addListExpandHandler = function() {\r\n  $('body').on('click', '.a-list *[data-toggle=\"collapse\"]', function() {\r\n    // This script runs before the bootstrap collapse handler, so the collapsed-class will still be\r\n    // present even though the content is about to be expanded\r\n    if ($(this).hasClass('collapsed')) {\r\n      $(this).closest('li').addClass('a-expanded');\r\n      $(this).closest('li').siblings().removeClass('a-expanded');\r\n    } else {\r\n      $(this).closest('li').removeClass('a-expanded');\r\n    }\r\n  });\r\n};\r\n","/* globals $ */\r\nvar feedbackToggle = function() {\r\n  if ($('.a-js-feedbackToggle').length > 0) {\r\n    $('.a-js-feedbackToggle').closest('fieldset').next().hide();\r\n    $('.a-js-feedbackToggle').closest('fieldset').next().next()\r\n      .hide();\r\n    $('.a-js-feedbackToggle').closest('fieldset').next().next()\r\n      .next()\r\n      .hide();\r\n    $('.a-js-feedbackToggle').each(function() {\r\n      $(this).find('input[type=radio]').change(function() {\r\n        if ($(this).val() === 'radio1' && $(this).is(':checked')) {\r\n          $(this).closest('fieldset').next().show();\r\n          $(this).closest('fieldset').next().next()\r\n            .hide();\r\n          $(this).closest('fieldset').next().next()\r\n            .next()\r\n            .hide();\r\n        } else if ($(this).val() === 'radio2' && $(this).is(':checked')) {\r\n          $(this).closest('fieldset').next().hide();\r\n          $(this).closest('fieldset').next().next()\r\n            .show();\r\n          $(this).closest('fieldset').next().next()\r\n            .next()\r\n            .show();\r\n        }\r\n      });\r\n      $(this).closest('form').find('button').on('click', function() {\r\n        $(this).closest('fieldset').next().show();\r\n        $(this).closest('fieldset').next().next()\r\n          .hide();\r\n        $(this).closest('fieldset').next().next()\r\n          .next()\r\n          .hide();\r\n      }.bind(this));\r\n    });\r\n  }\r\n};\r\n","var setupSelectableCheckbox = function() {\r\n  $('body').on('change', '.a-js-selectable-checkbox', function() {\r\n    if ($(this).is(':checked')) {\r\n      $(this).closest('.a-selectable').addClass('a-selected');\r\n    } else {\r\n      $(this).closest('.a-selectable').removeClass('a-selected');\r\n    }\r\n  });\r\n\r\n  $('body').on('focus', '.a-js-selectable-checkbox', function() {\r\n    $(this).closest('.a-selectable').addClass('a-focus');\r\n  });\r\n\r\n  $('body').on('blur', '.a-js-selectable-checkbox', function() {\r\n    $(this).closest('.a-selectable').removeClass('a-focus');\r\n  });\r\n};\r\n","/* eslint vars-on-top: 0 */\r\n/* globals AltinnDropdown */\r\n/* globals AltinnDropdown:true */\r\nAltinnDropdown = {\r\n  init: function() {\r\n    var that = this;\r\n    $('body').on('click', '[data-toggle=\"altinn-dropdown\"] .a-dropdown-item', function() {\r\n      var $dropdownElement = $(this).closest('[data-toggle=\"altinn-dropdown\"]');\r\n      if ($(this).data('value')) {\r\n        $dropdownElement.find('.a-js-altinnDropdown-value').val($(this).data('value'));\r\n      }\r\n\r\n      $dropdownElement.find('.a-dropdown-toggle').html($(this).html());\r\n\r\n      // Focus the dropdownmenu element after click on item in dropdownmenu\r\n      var id = $(this).closest('.a-dropdown-menu').attr('aria-labelledby');\r\n      $('#' + id).focus();\r\n    });\r\n  }\r\n};\r\n","/* globals $ */\r\nvar handleFocus = function() {\r\n  // If state on input is 'focus', add class to a-input: 'a-input-focus'\r\n  $('body').on('focus', 'input.form-control', function() {\r\n    $(this).parent().addClass('a-input-focus');\r\n  });\r\n\r\n  $('body').on('blur', 'input.form-control', function() {\r\n    $(this).parent().removeClass('a-input-focus');\r\n  });\r\n\r\n  $('.a-radioButtons-stackedList').find('input[type=radio]').change(function() {\r\n    var me = $(this);\r\n    if (me.is(':checked')) {\r\n      me.parent().addClass('a-js-radioParentGray');\r\n      $('input[type=radio]').each(function() {\r\n        if ($(this).attr('id') !== me.attr('id') &&\r\n          $(this).attr('name') === me.attr('name')) {\r\n          $(this).parent().removeClass('a-js-radioParentGray');\r\n        }\r\n      });\r\n    }\r\n  });\r\n};\r\n","var setupTruncateLines = function() {\r\n  setTimeout(function() {\r\n    // Max two lines for all screen sizes\r\n    $('.a-js-truncate-2').truncate({\r\n      lines: 2\r\n    });\r\n    // Max two lines for screen sizes less than 768\r\n    // Intit with 3 lines instead of 2 for IE11\r\n    if (!!window.MSInputMethodContext\r\n      && !!document.documentMode\r\n      && window.innerWidth < 768) {\r\n      $('.a-js-truncate-2-sm-down').truncate({\r\n        lines: 3\r\n      });\r\n    } else {\r\n      $('.a-js-truncate-2-sm-down').truncate({\r\n        lines: 2\r\n      });\r\n    }\r\n  }, 1);\r\n\r\n  $(window).resize(function() {\r\n    // Max two lines for all screen sizes\r\n    $('.a-js-truncate-2').truncate('collapse');\r\n    $('.a-js-truncate-2').truncate('update');\r\n\r\n    // Max two lines for screen sizes less than 768\r\n    if (window.innerWidth < 768) {\r\n      $('.a-js-truncate-2-sm-down').truncate('collapse');\r\n      $('.a-js-truncate-2-sm-down').truncate('update');\r\n    } else {\r\n      $('.a-js-truncate-2-sm-down').truncate('expand');\r\n    }\r\n  });\r\n\r\n  $('.a-collapsePanel-body').on('shown.bs.collapse', function() {\r\n    var el = $(this).siblings('.a-collapsePanel-heading').find('.a-js-truncate-2-sm-down');\r\n    if (window.innerWidth < 768) {\r\n      el.truncate('expand');\r\n    }\r\n  });\r\n\r\n  $('.a-collapsePanel-body').on('hide.bs.collapse', function() {\r\n    var el = $(this).siblings('.a-collapsePanel-heading').find('.a-js-truncate-2-sm-down');\r\n    if (window.innerWidth < 768) {\r\n      el.truncate('collapse');\r\n    }\r\n  });\r\n};\r\n","/* globals AltinnLoader:true */\r\n\r\nAltinnLoader = {\r\n  addLoader: function($target) {\r\n    if ($target.find('.loader-container').length === 0) {\r\n      $target.prepend('<div class=\"loader-container\"><div class=\"loader loader-ellipsis\"></div></div>');\r\n    }\r\n    $('button.a-modal-back').attr('disabled', true);\r\n    $('button.a-modal-close').attr('disabled', true);\r\n  },\r\n\r\n  removeLoader: function($target) {\r\n    $target.find('.loader-container').remove();\r\n    $('button.a-modal-back').attr('disabled', false);\r\n    $('button.a-modal-close').attr('disabled', false);\r\n  }\r\n};\r\n","/* globals $ */\r\nvar initializeDatepicker = function() {\r\n  var today = ('0' + new Date().getDate()).slice(-2) + '.' + ('0' + (new Date().getMonth() + 1)).slice(-2) + '.' + new Date().getFullYear();\r\n\r\n  var returnUserLanguageNumericCodeFromCookie = function(cookies, cname) {\r\n    var name = cname + '=';\r\n    var decodedCookies = decodeURIComponent(cookies);\r\n    var splitCookies = decodedCookies.split(';');\r\n    var i;\r\n    var c;\r\n    for (i = 0; i < splitCookies.length; i++) {\r\n      c = splitCookies[i];\r\n      if (c.charAt(0) === ' ') {\r\n        c = c.substring(1);\r\n      }\r\n      if (c.indexOf(name) === 0 && c.indexOf('UL') > 0) {\r\n        return c.substring(c.indexOf('UL') + 3);\r\n      }\r\n    }\r\n    return null;\r\n  };\r\n\r\n  var returnLanguageCodeFromNumericCode = function(numeric) {\r\n    var lang;\r\n    switch (numeric) {\r\n    // bokml\r\n    case '1044':\r\n      return 'no';\r\n    // engelsk\r\n    case '1033':\r\n      return 'en';\r\n    // nynorsk\r\n    case '2068':\r\n      return 'nn';\r\n    default:\r\n      return 'no';\r\n    }\r\n  };\r\n\r\n  var ulNumeric = returnUserLanguageNumericCodeFromCookie(document.cookie, 'altinnPersistentContext');\r\n  var userLanguage = returnLanguageCodeFromNumericCode(ulNumeric);\r\n\r\n  if ($('.a-overlay-container').length > 0) {\r\n    $('.a-overlay-container').attr('id', 'picker-container');\r\n  } else {\r\n    $('body').attr('id', 'picker-container');\r\n  }\r\n\r\n  $('.form-control.date').each(function() {\r\n    $(this).val($(this).val() || today);\r\n  });\r\n  $('.form-control.date').datepicker({\r\n    format: 'dd.mm.yyyy',\r\n    language: userLanguage,\r\n    todayHighlight: true,\r\n    orientation: 'bottom left',\r\n    autoclose: true,\r\n    maxViewMode: 0,\r\n    container: '#picker-container',\r\n    templates: {\r\n      leftArrow: '<i class=\"ai ai-back\"></i>',\r\n      rightArrow: '<i class=\"ai ai-arrowright\"></i>'\r\n    }\r\n  }).on('show', function(e) {\r\n    $('.datepicker').find('table').attr('cellpadding', '0');\r\n    $('.datepicker').find('table').attr('cellspacing', '0');\r\n  });\r\n  if ($('.form-control.date').length > 0) {\r\n    $('body').on('click', function(e) {\r\n      $('.datepicker').hide();\r\n    });\r\n    $('.form-control.date').on('click', function(e) {\r\n      e.stopPropagation(); e.preventDefault();\r\n    });\r\n    $('.datepicker').on('click', function(e) {\r\n      e.stopPropagation(); e.preventDefault();\r\n    });\r\n  }\r\n};\r\n","function showPassword(src, target) {\r\n  var pwd = $('#' + target);\r\n  if (pwd.attr('type') === 'text') {\r\n    pwd.attr('type', 'password');\r\n    $(src).children('.hide-password-text').hide();\r\n    $(src).children('.show-password-text').show();\r\n  } else {\r\n    pwd.attr('type', 'text');\r\n    $(src).children('.hide-password-text').show();\r\n    $(src).children('.show-password-text').hide();\r\n\r\n    setTimeout(function() {\r\n      pwd.attr('type', 'password');\r\n      $(src).children('.hide-password-text').hide();\r\n      $(src).children('.show-password-text').show();\r\n    }, 15000);\r\n  }\r\n}\r\n\r\nfunction setVisibility(passwordField, showPasswordId) {\r\n  var password = $(passwordField);\r\n  if (password.val().length > 0) {\r\n    $('#' + showPasswordId).removeClass('d-none');\r\n  } else {\r\n    $('#' + showPasswordId).addClass('d-none');\r\n  }\r\n}\r\n","/* globals currentRequest, popoverLocalInit, AltinnModal */\r\n/* globals AltinnModal:true, AltinnLoader */\r\nAltinnModal = {\r\n  closeModal: function(settings) {\r\n    $('body').removeClass('a-modal-background-error a-displayNav');\r\n    $('body').removeClass('a-modal-background-success');\r\n    $(settings.target).modal('hide');\r\n    $('body').append($('.a-stickyHelp-container'));\r\n  },\r\n\r\n  loadModal: function(settings) {\r\n    var currentRequest = $.ajax({\r\n      url: settings.url,\r\n      beforeSend: function() {\r\n        if (typeof currentRequest !== 'undefined') {\r\n          currentRequest.abort();\r\n        }\r\n\r\n        AltinnLoader.addLoader($('body'));\r\n      },\r\n      data: settings.data\r\n    }).always(function() {\r\n    }).done(function(data) {\r\n      var modalPage = $('<div/>', {\r\n        class: 'modalPage',\r\n        html: data\r\n      });\r\n      var page = $('<div/>', {\r\n        class: 'a-page a-current-page',\r\n        data: {\r\n          pageIndex: 1,\r\n          isSuccess: settings.isSuccess,\r\n          isError: settings.isError,\r\n          showModalNav: settings.showModalNav\r\n        },\r\n        html: modalPage\r\n      });\r\n\r\n      $('body').removeClass('a-modal-background-error a-displayNav');\r\n      $('body').removeClass('a-modal-background-success');\r\n\r\n      // if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n      //   goToModalHeader();\r\n      // }\r\n\r\n      $(settings.target + ' .a-modal-content-target').append(page);\r\n      $(settings.target).trigger('loaded.altinn.modal');\r\n      $(settings.target).find('.a-current-page').first().data().enableDirtyPopover = settings.enableDirtyPopover;\r\n\r\n      // Initialize with backdrop: static to prevent modal from closing when clicking outside,\r\n      // and keyboard: false to prevent ESC from closing the modal\r\n      $(settings.target).modal({\r\n        backdrop: 'static',\r\n        keyboard: false\r\n      });\r\n\r\n      $(settings.target).on('hidden.bs.modal', function() {\r\n        $(settings.target + ' .a-modal-content-target').empty();\r\n        $(settings.target).attr('aria-hidden', true);\r\n        $('#altinnModal').siblings('.row').removeClass('d-none');\r\n      });\r\n\r\n      $(settings.target).on('shown.bs.modal', function() {\r\n        $(settings.target).removeAttr('aria-hidden');\r\n        $('#altinnModal').siblings('.row').addClass('d-none');\r\n      });\r\n      popoverLocalInit();\r\n\r\n      if (settings.isError) {\r\n        $('body').addClass('a-modal-background-error');\r\n        if (settings.showModalNav) {\r\n          $('body').addClass('a-displayNav');\r\n        }\r\n      } else if (settings.isSuccess) {\r\n        $('body').addClass('a-modal-background-success');\r\n      }\r\n\r\n      AltinnLoader.removeLoader($('body'));\r\n      // causes issues in IE11 (blinking quickhelp when modal is open)\r\n      // $(settings.target).on('transitionend', function() {\r\n      // $(settings.target).append($('.a-stickyHelp-container'));\r\n      // });\r\n    });\r\n  },\r\n\r\n  nextModalPageWithContent: function(settings) {\r\n    var current;\r\n    var modalPage = $('<div/>', {\r\n      class: 'modalPage',\r\n      html: settings.content\r\n    });\r\n\r\n    var existingPages;\r\n    var newPage;\r\n    var newPageIndex;\r\n\r\n    existingPages = $(settings.target + ' :data(page-index)');\r\n\r\n    if (settings.clearHistory) {\r\n      newPageIndex = 1;\r\n    } else {\r\n      newPageIndex = existingPages.length + 1;\r\n    }\r\n\r\n    if (settings.clearHistory) {\r\n      $(settings.target + ' :data(page-index)').not('.a-current-page').remove();\r\n    }\r\n\r\n    newPage = $('<div/>', {\r\n      class: 'a-page a-next-page',\r\n      data: {\r\n        pageIndex: newPageIndex,\r\n        isSuccess: settings.isSuccess,\r\n        isError: settings.isError,\r\n        showModalNav: settings.showModalNav\r\n      },\r\n      html: modalPage\r\n    });\r\n\r\n    // if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n    //   goToModalHeader();\r\n    // }\r\n\r\n    $(settings.target + ' .a-modal-content-target').append(newPage);\r\n    $(settings.target).trigger('loaded.altinn.modal');\r\n\r\n    $(settings.target).animate({\r\n      scrollTop: 0\r\n    }, 20);\r\n\r\n    current = $(settings.target + ' .a-current-page');\r\n\r\n    setTimeout(function() {\r\n      $('body').removeClass('a-modal-background-error a-displayNav');\r\n      $('body').removeClass('a-modal-background-success');\r\n\r\n      current.removeClass('a-current-page').addClass('a-previous-page');\r\n      newPage.removeClass('a-next-page').addClass('a-current-page');\r\n      $(newPage).data().enableDirtyPopover = settings.enableDirtyPopover;\r\n\r\n      if (settings.isError) {\r\n        $('body').addClass('a-modal-background-error');\r\n        if (settings.showModalNav) {\r\n          $('body').addClass('a-displayNav');\r\n        }\r\n      } else if (settings.isSuccess) {\r\n        $('body').addClass('a-modal-background-success');\r\n      }\r\n    }, 0);\r\n\r\n    current.on('transitionend', function() {\r\n      if (settings.clearHistory) {\r\n        $(settings.target + ' :data(page-index)').not('.a-current-page').remove();\r\n      } else {\r\n        current.hide().off();\r\n      }\r\n    });\r\n\r\n    popoverLocalInit();\r\n  },\r\n\r\n  nextModalPage: function(settings) {\r\n    var currentRequest = $.ajax({\r\n      url: settings.url,\r\n      beforeSend: function() {\r\n        if (typeof currentRequest !== 'undefined') {\r\n          currentRequest.abort();\r\n        }\r\n        AltinnLoader.addLoader($(settings.target).find('.a-current-page .a-modal-body'));\r\n      },\r\n      data: settings.data\r\n    }).always(function() {\r\n    }).done(function(data) {\r\n      var current;\r\n      var modalPage = $('<div/>', {\r\n        class: 'modalPage',\r\n        html: data\r\n      });\r\n\r\n      var existingPages;\r\n      var newPage;\r\n      var newPageIndex;\r\n\r\n      existingPages = $(settings.target + ' :data(page-index)');\r\n\r\n      if (settings.clearHistory) {\r\n        newPageIndex = 1;\r\n      } else {\r\n        newPageIndex = existingPages.length + 1;\r\n      }\r\n\r\n      if (settings.clearHistory) {\r\n        $(settings.target + ' :data(page-index)').not('.a-current-page').remove();\r\n      }\r\n\r\n      newPage = $('<div/>', {\r\n        class: 'a-page a-next-page',\r\n        data: {\r\n          pageIndex: newPageIndex,\r\n          isSuccess: settings.isSuccess,\r\n          isError: settings.isError,\r\n          showModalNav: settings.showModalNav\r\n        },\r\n        html: modalPage\r\n      });\r\n\r\n      // if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n      //   goToModalHeader();\r\n      // }\r\n\r\n      $(settings.target + ' .a-modal-content-target').append(newPage);\r\n      $(settings.target).trigger('loaded.altinn.modal');\r\n\r\n      $(settings.target).animate({\r\n        scrollTop: 0\r\n      }, 20);\r\n\r\n      current = $(settings.target + ' .a-current-page');\r\n\r\n      setTimeout(function() {\r\n        $('body').removeClass('a-modal-background-error a-displayNav');\r\n        $('body').removeClass('a-modal-background-success');\r\n\r\n        current.removeClass('a-current-page').addClass('a-previous-page');\r\n        newPage.removeClass('a-next-page').addClass('a-current-page');\r\n        $(newPage).data().enableDirtyPopover = settings.enableDirtyPopover;\r\n\r\n        if (settings.isError) {\r\n          $('body').addClass('a-modal-background-error');\r\n          if (settings.showModalNav) {\r\n            $('body').addClass('a-displayNav');\r\n          }\r\n        } else if (settings.isSuccess) {\r\n          $('body').addClass('a-modal-background-success');\r\n        }\r\n      }, 0);\r\n\r\n      current.on('transitionend', function() {\r\n        if (settings.clearHistory) {\r\n          $(settings.target + ' :data(page-index)').not('.a-current-page').remove();\r\n        } else {\r\n          current.hide().off();\r\n        }\r\n\r\n        AltinnLoader.removeLoader(current.find('.a-modal-body'));\r\n      });\r\n\r\n      popoverLocalInit();\r\n    });\r\n  },\r\n\r\n  previousModalPage: function(settings) {\r\n    var current;\r\n    var allPages;\r\n    var previous;\r\n    var pagesToPop;\r\n    var isError;\r\n    var showModalNav;\r\n    var isSuccess;\r\n\r\n    if (!settings.pagesToPop) {\r\n      pagesToPop = 1;\r\n    } else {\r\n      pagesToPop = settings.pagesToPop;\r\n    }\r\n\r\n    if ($(settings.target + ' .a-current-page').data('page-index') - pagesToPop <= 0) {\r\n      $(settings.target).one('hidden.bs.modal', function() {\r\n        $('body').removeClass('a-modal-background-error a-displayNav');\r\n        $('body').removeClass('a-modal-background-success');\r\n      });\r\n\r\n      $(settings.target).modal('hide');\r\n      return;\r\n    }\r\n\r\n    current = $(settings.target + ' .a-current-page');\r\n    allPages = $(settings.target + ' :data(page-index)');\r\n    previous = allPages.filter(function() {\r\n      return $(this).data('page-index') === allPages.length - 1;\r\n    });\r\n\r\n    previous.show();\r\n    isError = $(previous).data().isError;\r\n    showModalNav = $(previous).data().showModalNav;\r\n    isSuccess = $(previous).data().isSuccess;\r\n\r\n    current.addClass('a-next-page');\r\n    current.removeClass('a-current-page');\r\n\r\n    // if (navigator.userAgent.match(/iPhone|iPad|iPod/i)) {\r\n    //   goToModalHeader();\r\n    // }\r\n\r\n    setTimeout(function() {\r\n      $('body').removeClass('a-modal-background-error a-displayNav');\r\n      $('body').removeClass('a-modal-background-success');\r\n\r\n      previous.addClass('a-current-page').removeClass('a-previous-page');\r\n\r\n      if (isError) {\r\n        $('body').addClass('a-modal-background-error');\r\n        if (showModalNav) {\r\n          $('body').addClass('a-displayNav');\r\n        }\r\n      } else if (isSuccess) {\r\n        $('body').addClass('a-modal-background-success');\r\n      }\r\n    }, 0);\r\n\r\n    current.on('transitionend', function() {\r\n      var previousPages = allPages.filter(function() {\r\n        return $(this).data('page-index') > allPages.length - pagesToPop;\r\n      });\r\n      previousPages.remove();\r\n    });\r\n  },\r\n\r\n  setCurrentPageIsDirty: function(target, state) {\r\n    $(target).find('.a-current-page').first().data().isDirty = state;\r\n  },\r\n\r\n  init: function() {\r\n    var that = this;\r\n    $('body').on('click', '[data-toggle=\"altinn-modal\"]', function() {\r\n      var $source = $(this);\r\n      if ($source.data().action === 'load') {\r\n        that.loadModal({\r\n          url: $source.data().url,\r\n          target: $source.data().target,\r\n          enableDirtyPopover: $source.data().enableDirtyPopover\r\n        });\r\n      } else if ($source.data().action === 'next') {\r\n        that.nextModalPage({ url: $source.data().url,\r\n          target: $source.data().target,\r\n          isSuccess: $source.data().isSuccess,\r\n          isError: $source.data().isError,\r\n          showModalNav: $source.data().showModalNav,\r\n          clearHistory: $source.data().clearHistory,\r\n          enableDirtyPopover: $source.data().enableDirtyPopover });\r\n      } else if ($source.data().action === 'back') {\r\n        that.previousModalPage({\r\n          target: $source.data().target,\r\n          pagesToPop: $source.data().pages\r\n        });\r\n      } else if ($source.data().action === 'close') {\r\n        that.closeModal({ target: $source.data().target });\r\n      }\r\n    });\r\n\r\n    $('body').on('click', '.a-modal-back', function() {\r\n      var $modal = $(this).closest('.a-modal');\r\n      if ($modal.find('.a-current-page').first().data().enableDirtyPopover\r\n        && $modal.find('.a-current-page').first().data().isDirty) {\r\n        $(this).popover('show');\r\n      } else {\r\n        that.previousModalPage({ target: '#' + $modal[0].id });\r\n      }\r\n    });\r\n\r\n    $('body').on('click', '.a-modal-close', function() {\r\n      var $modal = $(this).closest('.a-modal');\r\n      if ($modal.find('.a-current-page').first().data().enableDirtyPopover\r\n        && $modal.find('.a-current-page').first().data().isDirty) {\r\n        $(this).popover('show');\r\n      } else {\r\n        that.closeModal({ target: '#' + $modal[0].id });\r\n      }\r\n    });\r\n\r\n    $('body').on('click', '.a-js-modal-dirtyBackBtn', function() {\r\n      AltinnModal.previousModalPage({ target: '#' + $(this).closest('.a-modal')[0].id });\r\n      $('button[aria-describedby=' + $(this).parent().parent().attr('id') + ']').popover('hide');\r\n    });\r\n\r\n    $('body').on('click', '.a-js-modal-dirtyCancelBtn', function() {\r\n      $('button[aria-describedby=' + $(this).parent().parent().attr('id') + ']').popover('hide');\r\n    });\r\n\r\n    $('body').on('click', '.a-js-modal-dirtyCloseBtn', function() {\r\n      AltinnModal.closeModal({ target: '#' + $(this).closest('.a-modal')[0].id });\r\n      $('button[aria-describedby=' + $(this).parent().parent().attr('id') + ']').popover('hide');\r\n    });\r\n\r\n    function urlQuery(query) { // Parse current URL for query value\r\n      var _query = query.replace(/[[]/, '[').replace(/[\\]]/, '\\\\]');\r\n      var expr = '[\\\\?&]' + _query + '=([^&#]*)';\r\n      var regex = new RegExp(expr);\r\n      var results = regex.exec(window.location.href);\r\n      if (results !== null) {\r\n        return results[1];\r\n      }\r\n      return false;\r\n    }\r\n    if (urlQuery('form') === '1') {\r\n      AltinnModal.loadModal({\r\n        url: '/hjelp/kontaktskjema-for-hjelp/',\r\n        target: '#modal'\r\n      });\r\n    }\r\n  }\r\n};\r\n","/* globals compareTo */\r\nvar sortListAlphanumerically = function(src, sortIndex) {\r\n  var $list = $(src).closest('.a-list-container').find('.a-list');\r\n  var rows = $list.find('li:not(.a-list-header)');\r\n  var reverse;\r\n\r\n  var active = $(src).hasClass('a-active');\r\n  if (!active) {\r\n    $(src).closest('.a-list-container').find('.a-list-sortHeader').removeClass('a-active')\r\n      .removeClass('a-js-reverse-sort');\r\n    $(src).addClass('a-active');\r\n  } else {\r\n    $(src).toggleClass('a-js-reverse-sort');\r\n  }\r\n\r\n  reverse = $(src).hasClass('a-js-reverse-sort');\r\n\r\n  rows.sort(function(a, b) {\r\n    var A = $($($($(a).children()[0]).children()[sortIndex]).find('.a-js-sortValue')[0]).text()\r\n      .toUpperCase();\r\n    var B = $($($($(b).children()[0]).children()[sortIndex]).find('.a-js-sortValue')[0]).text()\r\n      .toUpperCase();\r\n    return reverse ? compareTo(B, A) : compareTo(A, B);\r\n  });\r\n\r\n  $.each(rows, function(index, row) {\r\n    if ($(row).find('.a-js-sortValue').length > 0) {\r\n      $list.append(row);\r\n    }\r\n  });\r\n\r\n  // handles load more row\r\n  $.each(rows, function(index, row) {\r\n    if ($(row).find('.a-js-sortValue').length === 0) {\r\n      $list.append(row);\r\n    }\r\n  });\r\n};\r\n\r\nvar defaultListSort = function() {\r\n  $('.a-list-container').each(function() {\r\n    var sortHeader = $(this).find('.a-list-sortHeader')[0];\r\n    var index = $(sortHeader).index();\r\n    sortListAlphanumerically(sortHeader, index);\r\n  });\r\n};\r\n\r\nvar addListSortHandler = function() {\r\n  $('.a-list-sortHeader').on('click', function() {\r\n    var index = $(this).index();\r\n    sortListAlphanumerically(this, index);\r\n  });\r\n\r\n  defaultListSort();\r\n};\r\n","/* globals $ */\r\nvar toggleFilter = function() {\r\n  $('.a-collapse-title').on('keyup', function(e) {\r\n    var key = e.which;\r\n    if (key === 13) {\r\n      e.stopImmediatePropagation(); e.stopPropagation(); e.preventDefault();\r\n      $(e.target).trigger('mouseup');\r\n    } else if (key === 9) {\r\n      if ($($(e.target).attr('data-target')).hasClass('show')) {\r\n        $($(e.target).attr('data-target')).find('.a-switch').eq(0)\r\n          .trigger('focus');\r\n      }\r\n    }\r\n  });\r\n};\r\n","/* globals currentRequest, AltinnQuickhelp */\r\n/* globals AltinnQuickhelp:true */\r\nAltinnQuickhelp = {\r\n  listeners: function(target) {\r\n    var that = this;\r\n    $('.a-stickyHelp-search').find('input').on('keyup', function(e) {\r\n      var keyCode = e.keyCode || e.which;\r\n      if (keyCode === 13 && encodeURIComponent($(this)[0].value).length > 0) {\r\n        that.nextquickhelpPage({\r\n          url: $('#a-stickyHelp').attr('data-api') +\r\n            encodeURIComponent($(this)[0].value) + '/' + $('html').attr('lang'),\r\n          target: target\r\n        });\r\n      }\r\n    });\r\n    $('.a-stickyHelp-search').find('button').on('click', function(e) {\r\n      if (encodeURIComponent($('.a-js-stickyhelpSearch')[0].value).length > 0) {\r\n        that.nextquickhelpPage({\r\n          url: $('#a-stickyHelp').attr('data-api') +\r\n            encodeURIComponent($('.a-js-stickyhelpSearch')[0].value) + '/' +\r\n            $('html').attr('lang'),\r\n          target: target\r\n        });\r\n      }\r\n    });\r\n  },\r\n  nextquickhelpPage: function(settings) {\r\n    var currentRequest = $.ajax({\r\n      url: settings.url,\r\n      beforeSend: function() {\r\n        if (typeof currentRequest !== 'undefined') {\r\n          currentRequest.abort();\r\n        }\r\n      }\r\n    }).done(function(data) {\r\n      var quickhelpPage = $('<div/>', { class: 'quickhelpPage', html: data });\r\n      var current; var existingPages; var newPage; var newPageIndex;\r\n      existingPages = $(settings.target + ' :data(page-index)');\r\n      newPageIndex = existingPages.length + 1;\r\n      newPage = $('<div/>', {\r\n        class: 'a-page a-next-page',\r\n        data: { 'page-index': newPageIndex },\r\n        html: quickhelpPage\r\n      });\r\n      $(settings.target + ' .a-stickyHelp-content-target').append(newPage);\r\n      $(settings.target).animate({ scrollTop: 0 }, 20);\r\n      current = $(settings.target + ' .a-current-page');\r\n      setTimeout(function() {\r\n        current.removeClass('a-current-page').addClass('a-previous-page');\r\n        newPage.removeClass('a-next-page').addClass('a-current-page');\r\n        $(newPage).data();\r\n      }, 0);\r\n      current.on('transitionend', function() {\r\n        if (settings.clearHistory) {\r\n          $(settings.target + ' :data(page-index)').not('.a-current-page')\r\n            .remove();\r\n        } else {\r\n          current.off();\r\n        }\r\n      });\r\n      $('#a-js-stickyHelp-back').addClass('d-block');\r\n    });\r\n  },\r\n  previousquickhelpPage: function(settings) {\r\n    var current; var allPages; var previous; var pagesToPop;\r\n    if (!settings.pagesToPop) {\r\n      pagesToPop = 1;\r\n    } else {\r\n      pagesToPop = settings.pagesToPop;\r\n    }\r\n    current = $(settings.target + ' .a-current-page');\r\n    allPages = $(settings.target + ' :data(page-index)');\r\n    previous = allPages.filter(function() {\r\n      return $(this).data('page-index') === allPages.length - 1;\r\n    });\r\n    previous.addClass('a-current-page').removeClass('a-next-page');\r\n    current.removeClass('a-current-page').addClass('a-next-page');\r\n    setTimeout(function() {\r\n      previous.addClass('a-current-page').removeClass('a-previous-page');\r\n    }, 0);\r\n    current.on('transitionend', function() {\r\n      var previousPages = allPages.filter(function() {\r\n        return $(this).data('page-index') > allPages.length - pagesToPop;\r\n      });\r\n      previousPages.remove();\r\n    });\r\n    if (allPages.length === 2) {\r\n      $('#a-js-stickyHelp-back').removeClass('d-block');\r\n    }\r\n  },\r\n  init: function() {\r\n    var that = this; that.listeners('#a-stickyHelp');\r\n    $('body').on('click', '[data-toggle=\"quickhelp\"]', function() {\r\n      var $source = $(this);\r\n      if ($source.data().action === 'next') {\r\n        that.nextquickhelpPage({\r\n          url: $source.data().url, target: $source.data().target\r\n        });\r\n      } else if ($source.data().action === 'back') {\r\n        that.previousquickhelpPage({\r\n          target: $source.data().target, pagesToPop: $source.data().pages\r\n        });\r\n      }\r\n    });\r\n    $('.a-current-page').data({ 'page-index': 1 });\r\n    $('.a-js-stickyHelpCategory')\r\n      .html($('#a-stickyHelp').find('.a-stickyHelp-content-target')\r\n        .attr('data-category')\r\n      );\r\n    $('.a-js-stickyHelpCategoryLink').attr('data-url', $('#a-stickyHelp')\r\n      .find('.a-stickyHelp-content-target').attr('data-url')\r\n    );\r\n    $('body').on('click', '.a-stickyHelp-open', function() {\r\n      if (!$('.a-js-stickyHelpFrame').attr('src')) {\r\n        $('.a-js-stickyHelpFrame')\r\n          .attr('src', $('.a-js-stickyHelpFrame').attr('data-src'));\r\n      }\r\n    });\r\n    if ($('.quickhelpPage').find('.a-text').length !== 0) {\r\n      $('.quickhelpPage').parent('.a-page').addClass('a-page-hasArticleInside');\r\n    }\r\n  }\r\n};\r\n","/* globals mobileNavigation */\r\nvar wasDark = $('header').hasClass('a-darkBackground');\r\nvar action = function(e) {\r\n  if ($(e.target).closest('.a-globalNav-main').length === 0 &&\r\n  $(e.target).closest('.navbar-toggler').length === 0) {\r\n    if ($('.a-globalNav-main').is(':visible')) {\r\n      $('.navbar-toggler').attr('data-jsexpanded', 'false');\r\n      $('.a-globalNav-main').hide();\r\n      $('body').css('background-color', '');\r\n      if (wasDark) {\r\n        $('header').addClass('a-darkBackground');\r\n        $('.a-globalNav-logo').find('img')\r\n          .attr('src', $('.a-globalNav-logo').find('img').attr('src').replace('blue', 'white'));\r\n      }\r\n      $('.a-page').children(':not(header)').removeClass('a-js-hidden');\r\n    }\r\n  } else if ($(e.target).closest('.navbar-toggler').length > 0) {\r\n    if ($('.a-globalNav-main').is(':visible')) {\r\n      $('.navbar-toggler').attr('data-jsexpanded', 'false');\r\n      $('.a-globalNav-main').hide();\r\n      $('body').css('background-color', '');\r\n      if (wasDark) {\r\n        $('header').addClass('a-darkBackground');\r\n        $('.a-globalNav-logo').find('img')\r\n          .attr('src', $('.a-globalNav-logo').find('img').attr('src').replace('blue', 'white'));\r\n      }\r\n      $('.a-page').children(':not(header)').removeClass('a-js-hidden');\r\n    } else {\r\n      $('.navbar-toggler').attr('data-jsexpanded', 'true');\r\n      $('.a-globalNav-main').show();\r\n      $('body').css('background-color', '#fff');\r\n      if (wasDark) {\r\n        $('header').removeClass('a-darkBackground');\r\n        $('.a-globalNav-logo').find('img')\r\n          .attr('src', $('.a-globalNav-logo').find('img').attr('src').replace('white', 'blue'));\r\n      }\r\n      $('.a-page').children(':not(header)').addClass('a-js-hidden');\r\n    }\r\n  }\r\n};\r\nfunction menuHandler() {\r\n  // enable tabbing and mouse click on mobile menu btn\r\n  if ($('body').width() < 768) {\r\n    $('body').on('click', action);\r\n  }\r\n}\r\nmenuHandler();\r\n$(window).on('resize', function() {\r\n  $('body').off('click', action);\r\n  menuHandler();\r\n});\r\n","var toggleInstant = function() {\r\n  $('.a-panelAccordion').on('click', '*[data-toggle=\"instant\"]', function() {\r\n    var $target = $(this.dataset.target);\r\n    if ($target.is(':visible')) {\r\n      $(this).attr('aria-expanded', false);\r\n      $target.hide();\r\n      $(this).removeClass('a-open');\r\n    } else {\r\n      $(this).attr('aria-expanded', true);\r\n      $target.show();\r\n      $(this).addClass('a-open');\r\n    }\r\n  });\r\n};\r\n","/* globals $ */\r\nvar autoFootnotes = function() {\r\n  // Ideally we should have a generic class name here, but it would break\r\n  // existing articles\r\n  $('.epi-footnote').not('popovered').each(function(index) {\r\n    $(this).hide().addClass('popovered');\r\n    $(this).after(\r\n      '<a href=\"javascript:void(0)\" ' +\r\n        'tabindex=\"0\" ' +\r\n        'class=\"a-linkArea a-helpIconButton a-helpIconButton--blue a-js-togglePopoverIcons\" ' +\r\n        'role=\"button\" ' +\r\n        'data-toggle=\"popover\" ' +\r\n        'data-popover-class=\"footnote\"' +\r\n        'data-trigger=\"click\"' +\r\n        'data-popover-content=\"epiFootnote_' + index + '\">' +\r\n        '<i class=\"ai ai-circle-plus a-js-popoverIconInitial\"></i>' +\r\n        '<i class=\"ai ai-circle-minus a-js-popoverIconExpanded\"></i>' +\r\n      '</a>' +\r\n      '<div id=\"epiFootnote_' + index + '\" style=\"display: none\">' +\r\n        $(this).html() +\r\n      '</div>'\r\n    );\r\n  });\r\n};\r\n","/* globals $ */\r\nvar mobileNavigation = function() {\r\n  $('.a-globalNav .dropdown').on('show.bs.dropdown', function(e) {\r\n    var that = this;\r\n    setTimeout(function() {\r\n      $(that).find('.a-dropdown-languages').addClass('expand');\r\n      $(that).find('.a-dropdown-languages a').removeAttr('tabindex');\r\n      $(that).find('.a-dropdown-languages a').removeAttr('aria-hidden');\r\n    }, 0);\r\n  });\r\n\r\n  $('.a-globalNav .dropdown').on('hide.bs.dropdown', function(e) {\r\n    $(this).find('.a-dropdown-languages').removeClass('expand');\r\n    $(this).find('.a-dropdown-languages a').attr('tabindex', '-1');\r\n    $(this).find('.a-dropdown-languages a').attr('aria-hidden', 'true');\r\n  });\r\n};\r\n","/* globals\r\n  setupExpandContent\r\n*/\r\n$('body').on('show.bs.collapse', '.a-collapsePanel-body', function(e) {\r\n  var that = this;\r\n  if ($(e.target).hasClass('a-collapsePanel-body')) {\r\n    setTimeout(function() {\r\n      var $collapsePanelHeader = $(that).siblings('.a-js-index-heading').first();\r\n      var $msgIconWrapper = $collapsePanelHeader.find('.a-inboxHeadingContent')\r\n        .find('.a-msgIconSecondary')\r\n        .closest('.a-msgIconWrapper');\r\n\r\n      $msgIconWrapper.find('.reg')\r\n        .hide()\r\n        .siblings('.a-msgIconSecondary')\r\n        .show();\r\n\r\n      $msgIconWrapper.find('span').attr('aria-hidden', true);\r\n      $msgIconWrapper.find('span:last-of-type').removeAttr('aria-hidden');\r\n\r\n      $('.a-collapsePanel').removeClass('expanded');\r\n      $(that).closest('.a-collapsePanel').addClass('expanded');\r\n      $('.a-js-index-heading').addClass('dim');\r\n      $('.a-collapsePanel.expanded').find('.a-js-index-heading').removeClass('dim');\r\n      setupExpandContent();\r\n    }, 0);\r\n  }\r\n});\r\n\r\n$('body').on('hide.bs.collapse', '.a-collapsePanel-body', function(e) {\r\n  var that = this;\r\n  if ($(e.target).hasClass('a-collapsePanel-body')) {\r\n    setTimeout(function() {\r\n      var $collapsePanelHeader = $(that).siblings('.a-js-index-heading').first();\r\n      $collapsePanelHeader.find('.a-inboxHeadingContent').removeClass('a-msgUnread');\r\n      $(that).closest('.a-collapsePanel').removeClass('expanded');\r\n      if ($('.a-collapsePanel.expanded').length === 0) {\r\n        $('.a-js-index-heading').removeClass('dim');\r\n      } else {\r\n        $collapsePanelHeader.addClass('dim');\r\n      }\r\n    }, 0);\r\n  }\r\n});\r\n\r\n$('.a-js-collapseInboxMessage').click(function() {\r\n  $('div.card.a-accordion-card.a-collapsePanel.expanded a[data-toggle=\"collapse\"]').click();\r\n});\r\n","var setupOnKeypress = function() {\r\n  $('body').on('keydown', '.a-clickable, .a-selectable', function(e) {\r\n    var key = e.which;\r\n    if ($(e.target).hasClass('a-clickable') || $(e.target).hasClass('a-selectable')) {\r\n      if (key === 13) {\r\n        $(this).click();\r\n        return false;\r\n      }\r\n    }\r\n    return true;\r\n  });\r\n};\r\n","var setupNestedCheckboxes = function() {\r\n  $('[data-toggle=\"nestedCheckbox\"]').on('change', function() {\r\n    var target = $(this).data('target');\r\n    if ($(this).is(':checked')) {\r\n      $(target).show();\r\n    } else {\r\n      $(target).hide();\r\n    }\r\n  });\r\n\r\n  $('[data-toggle=\"nestedCheckbox\"]').each(function() {\r\n    if (!$(this).is(':checked')) {\r\n      $($(this).data('target')).hide();\r\n    }\r\n  });\r\n};\r\n","/* globals $ */\r\n// used for popovers\r\nvar tooltip = function() {\r\n  $('[data-toggle=\"tooltip\"]').tooltip();\r\n};\r\n","var compareTo = function(firstItem, secondItem) {\r\n  var first;\r\n  var second;\r\n  if (firstItem === undefined && secondItem === undefined) {\r\n    return 0;\r\n  }\r\n  if (firstItem === undefined) {\r\n    return 1;\r\n  }\r\n  if (secondItem === undefined) {\r\n    return -1;\r\n  }\r\n\r\n  first = firstItem.toString();\r\n  second = secondItem.toString();\r\n  if (first < second) {\r\n    return -1;\r\n  }\r\n\r\n  if (first > second) {\r\n    return 1;\r\n  }\r\n  return 0;\r\n};\r\n","// Select the node that will be observed for mutations\r\nvar targetNode = document.getElementsByClassName('navbar-toggler')[0];\r\n\r\n// Options for the observer (which mutations to observe)\r\nvar config = { attributes: true, childList: true };\r\n\r\nvar callback = function(mutationsList) {\r\n  mutationsList.forEach(function(mutation) {\r\n    if ($(mutation.target).attr('data-jsexpanded') === 'false') {\r\n      $('.a-login-container').css('display', '');\r\n    } else {\r\n      $('.a-login-container').css('display', 'none');\r\n    }\r\n  });\r\n};\r\n\r\n// Create an observer instance linked to the callback function\r\nvar observer = new MutationObserver(callback);\r\n\r\n// Start observing the target node for configured mutations\r\ntry {\r\n  observer.observe(targetNode, config);\r\n} catch (e) {\r\n  //\r\n}\r\n\r\n\r\n$('button.a-personSwitcher').on('click', function() {\r\n  if ($('button.navbar-toggler').attr('data-jsexpanded') === 'true') {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    $('button.navbar-toggler').trigger('click');\r\n  }\r\n});\r\n\r\n$('.a-dropdown-personswitchList').on('click', 'button[data-toggle=\"collapse\"]', function(event) {\r\n  event.preventDefault();\r\n  event.stopPropagation();\r\n  $($(this).data('target')).collapse('toggle');\r\n});\r\n\r\n// For setting the background-color when favorite star is hovered\r\n$('.a-listWithSubLevels').children().hover(function() {\r\n  if (!$(this).parent().find('button.a-btn-shadow-large').is(':disabled') && ($(this).is('.a-favourite') || $(this).is('.a-btn-shadow-large'))) {\r\n    $(this).parent().find('button.a-btn-shadow-large').css('background', '#CFF0FF');\r\n    $(this).parent().find('button.a-btn-shadow-large.a-bgGreyLight').css('background', '#E2E2E2');\r\n  }\r\n},\r\nfunction() {\r\n  if (!$(this).parent().find('button.a-btn-shadow-large').is(':disabled') && ($(this).is('.a-favourite') || $(this).is('.a-btn-shadow-large'))) {\r\n    $(this).parent().find('button.a-btn-shadow-large').css('background', '#E3F7FF');\r\n    $(this).parent().find('button.a-btn-shadow-large.a-bgGreyLight').css('background', '#EFEFEF');\r\n  }\r\n});\r\n","var setValidatorSettings = function() {\r\n  var defaultOptions = {\r\n    ignore: ':hidden, .ignoreValidation',\r\n    highlight: function(element, errorClass, validClass) {\r\n      $(element).closest('.form-group').addClass(errorClass);\r\n    },\r\n    unhighlight: function(element, errorClass, validClass) {\r\n      $(element).closest('.form-group').removeClass(errorClass);\r\n    },\r\n    focusInvalid: false\r\n  };\r\n  $.validator.setDefaults(defaultOptions);\r\n  $.validator.unobtrusive.options = {\r\n    errorClass: 'has-error'\r\n  };\r\n};\r\n","/* eslint vars-on-top: 0 */\r\n/* globals $ */\r\nvar popoverLocalInit = function() {\r\n  var options = {\r\n    html: true,\r\n    placement: function(context, source) {\r\n      var position = $(source).offset();\r\n      $(context).addClass($(source).attr('data-popover-class'));\r\n      if ($(source).hasClass('a-js-popoverBig')) {\r\n        return 'bottom';\r\n      }\r\n      if (position.left < 125) {\r\n        return 'right';\r\n      }\r\n      if (position.left > ($(document).width() - $(source).width() - 125)) {\r\n        return 'left';\r\n      }\r\n      return 'bottom';\r\n    },\r\n    content: function() {\r\n      if ($(this).attr('data-popover-content')) {\r\n        return $('#' + $(this).data('popover-content')).html();\r\n      }\r\n      return false;\r\n    },\r\n    template: '<div class=\"popover\" role=\"popover\" tabindex=\"0\"><div class=\"arrow\"></div><div class=\"popover-body\"></div></div>'\r\n  };\r\n\r\n  $('[data-toggle=\"popover\"]').popover(options);\r\n\r\n  $('.a-js-togglePopoverIcons').each(function() {\r\n    // $(this).find('i').eq(1).hide();\r\n    $(this).find('.a-js-popoverIconExpanded').hide();\r\n  });\r\n\r\n  $('.a-js-popoverIconExpanded').on('click', function() {\r\n    $('.a-js-popoverIconExpanded').hide();\r\n    $('.a-js-popoverIconInitial').show();\r\n    // $(this).hide();\r\n    // $('.a-js-popoverIconInitial').show();\r\n  });\r\n  $('.a-js-popoverIconInitial').on('click', function() {\r\n    $(this).hide();\r\n    $(this).parent().find('.a-js-popoverIconExpanded').show();\r\n  });\r\n};\r\n\r\nvar forceFocusTriggerElement;\r\nvar popoverGlobalInit = function() {\r\n  $('[data-toggle=\"dropdown\"]').on('click', function(e) {\r\n    if (window.innerWidth < 992) {\r\n      $('.a-dropdown-overflow-menu-right').removeClass('dropdown-menu-right');\r\n    } else {\r\n      $('.a-dropdown-overflow-menu-right').addClass('dropdown-menu-right');\r\n    }\r\n  });\r\n\r\n  $('body').on('show.bs.popover', '[data-toggle=\"popover\"].a-js-tabable-popover', function(e) {\r\n    var triggerElement = this;\r\n    $(triggerElement).closest('.a-modal').scrollTop(0);\r\n  });\r\n\r\n  $('body').on('shown.bs.popover', '[data-toggle=\"popover\"].a-js-tabable-popover', function(e) {\r\n    var triggerElement = this;\r\n    setTimeout(function() {\r\n      $(triggerElement).after($($(triggerElement).data('bs.popover').tip));\r\n      $(triggerElement).closest('.a-modal').one('scroll', function() {\r\n        $('[data-toggle=\"popover\"]').popover('hide');\r\n      });\r\n    }, 0);\r\n  });\r\n\r\n  $('body').on('shown.bs.popover', '[data-toggle=\"popover\"].a-js-popover-forceFocus', function(e) {\r\n    $('body').append($('<button class=\"sr-only a-js-popoverTrick\">ignoreme</button>'));\r\n    forceFocusTriggerElement = this;\r\n\r\n    /*\r\n      This is a keyboard trap code\r\n      which prevents the user from exiting the \"popover\" dialog with tabbing.\r\n      ESC will close the \"popover\" dialog.\r\n    */\r\n\r\n    // Find popover-warning\r\n    var popoverWarning = $('.popover-warning');\r\n\r\n    // Find all focusable children\r\n    var focusableElementsString = 'a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, [tabindex=\"0\"], [contenteditable]';\r\n    // var focusableElements = popover.querySelectorAll(focusableElementsString);\r\n    var focusableElements = $(popoverWarning).find(focusableElementsString);\r\n\r\n    // If there are focusable elements, make keyboardtrap\r\n    if (focusableElements.length) {\r\n      // Convert NodeList to Array\r\n      focusableElements = Array.prototype.slice.call(focusableElements);\r\n\r\n      var firstTabStop = focusableElements[0];\r\n      var lastTabStop = focusableElements[focusableElements.length - 1];\r\n\r\n      // Focus first child, and scroll to current position\r\n      var position = $(window).scrollTop();\r\n      firstTabStop.focus({ preventScroll: true });\r\n      $(window).scrollTop(position);\r\n\r\n      $(popoverWarning).keydown(function(key) {\r\n        if (key.keyCode === 9) {\r\n          // Shift + Tab\r\n          if (key.shiftKey) {\r\n            if (document.activeElement === firstTabStop) {\r\n              key.preventDefault();\r\n              lastTabStop.focus();\r\n            }\r\n          // TAB\r\n          } else {\r\n            if (document.activeElement === lastTabStop) { // eslint-disable-line\r\n              key.preventDefault();\r\n              firstTabStop.focus();\r\n            }\r\n          }\r\n        } else if (key.keyCode === 27) {\r\n          // Escape\r\n          $('[data-toggle=\"popover\"]').popover('hide');\r\n          $(forceFocusTriggerElement).focus();\r\n        }\r\n      });\r\n\r\n      // if cancel/avbryt pressed with Enter, hide popover and focus on trigger\r\n      $(lastTabStop).keydown(function(key) {\r\n        if (key.keyCode === 13) {\r\n          // Enter\r\n          key.preventDefault();\r\n          $('[data-toggle=\"popover\"]').popover('hide');\r\n          $(forceFocusTriggerElement).focus();\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  $('body').on('hidden.bs.popover', '[data-toggle=\"popover\"].a-js-popover-forceFocus', function(e) {\r\n    $('body').find('.a-js-popoverTrick').remove();\r\n  });\r\n\r\n  // hides popover when the checkbutton is checked\r\n  $('body').on('focus', '[data-toggle=\"popover\"].sr-only', function(e) {\r\n    if ($(this).is(':checked')) {\r\n      $(this).popover('hide');\r\n    } else {\r\n      $(this).popover('show');\r\n    }\r\n  });\r\n\r\n  // show/hide popover on checkbutton change\r\n  $('body').on('change', 'a-switch[data-toggle=popover]', function() {\r\n    if ($(this).is(':checked')) {\r\n      $(this).popover('hide');\r\n    } else {\r\n      $(this).popover('show');\r\n    }\r\n  });\r\n\r\n  // Hide all existing popovers when opening a new popover\r\n  $('body').on('click', '[data-toggle=\"popover\"]', function(e) {\r\n    $('[data-toggle=\"popover\"]').not(this).popover('hide');\r\n  });\r\n\r\n  // Hide all existing popovers when focusing a new element\r\n  // which is not the open popover or any of its content\r\n  $('body').on('blur', '[data-toggle=\"popover\"], .popover *', function(e) {\r\n    setTimeout(function() {\r\n      var $focused = $(':focus');\r\n      if ((($focused.length !== 0 || forceFocusTriggerElement)\r\n        && !$focused.hasClass('popover')\r\n        && !$focused.parents('.popover').length >= 1) || $focused.hasClass('a-js-popoverTrick')) {\r\n        // disable blur when in modal to allow use of non-original scrollbar\r\n        if ($('.modal.show').length > 0) {\r\n          $('.popover-big[data-toggle=\"popover\"]').popover('hide');\r\n        }\r\n      }\r\n    }, 0);\r\n  });\r\n\r\n  // Hide popovers when clicking on something else than the trigger element\r\n  // and the popover itself\r\n  $('body').on('click', function(e) {\r\n    if ($(e.target).data('toggle') !== 'popover' && $(e.target).parents('[data-toggle=\"popover\"]').length === 0 && $(e.target).parents('.popover.show').length === 0) {\r\n      $('[data-toggle=\"popover\"]').popover('hide');\r\n      forceFocusTriggerElement = false;\r\n      $(this).parent().find('.a-js-popoverIconInitial').show();\r\n      $(this).parent().find('.a-js-popoverIconExpanded').hide();\r\n    }\r\n  });\r\n\r\n  function resetTranslate() {\r\n    $('.popover-big').attr('style', $('.popover-big').attr('style').replace(/translateX\\(.*?\\)/, 'translateX(0px)'));\r\n  }\r\n\r\n  function adjustBig() {\r\n    var modalHeight;\r\n    var padding;\r\n    if ($('.popover-big').length > 0) {\r\n      if ($('.modal.show').length > 0) {\r\n        // Add padding to make sure modal is big enough to contain popover\r\n        modalHeight = $('.modal-dialog').height() + $('.modalPage:visible').height();\r\n        padding = ($('.popover').offset().top + $('.modal').scrollTop() + $('.popover').height() + 5) - modalHeight;\r\n        $('.modalPage:visible').css('padding-bottom', padding + 'px');\r\n        // tranlate is somehow added by Bootstrap later when in modal??\r\n        setTimeout(resetTranslate, 0);\r\n      } else {\r\n        resetTranslate();\r\n      }\r\n    }\r\n  }\r\n\r\n  $('body').on('shown.bs.popover', '.a-js-persistPopover', function() {\r\n    $('.arrow').html('<style>.popover-big:after { left: ' + ($(this).offset().left + 10.5) + 'px !important; }</style>');\r\n    $('html, body').animate({\r\n      scrollTop: $('.a-js-persistPopover').offset().top - 50\r\n    }, 250);\r\n\r\n    adjustBig();\r\n  });\r\n\r\n  // clean up modal page fix\r\n  $('body').on('hidden.bs.popover', 'a-js-persistPopover', function(e) {\r\n    $('.modalPage').css('padding-bottom', '0px');\r\n  });\r\n\r\n  $(window).scroll(adjustBig);\r\n  $('.modal').scroll(adjustBig);\r\n  $(window).resize(adjustBig);\r\n};\r\n","var setupExpandContent = function() {\r\n  var expandContent = function() {\r\n    $($(this).data('target')).addClass('a-expanded');\r\n    $(this).hide();\r\n  };\r\n\r\n  $('*[data-toggle=\"altinn-expand\"]').each(function() {\r\n    var targetHeight;\r\n    var $target = $($(this).data('target'));\r\n    $target.removeClass('a-expandable-content');\r\n    targetHeight = $target.outerHeight();\r\n    $(this).off('click', expandContent);\r\n    if (targetHeight > 320) {\r\n      $target.addClass('a-expandable-content');\r\n      $target.removeClass('a-expanded');\r\n      $(this).on('click', expandContent);\r\n      $(this).show();\r\n    } else {\r\n      $(this).hide();\r\n    }\r\n  });\r\n};\r\n","function searchFilterView() {\r\n  function RepositionStickyHelp() {\r\n    var searchFilters = $('.a-overlay-container');\r\n    var searchFilerActionButton = $('.a-search-filter-action-wrapper button');\r\n    if (searchFilters.is(':visible') && searchFilerActionButton.position().left === 0) {\r\n      $('.a-stickyHelp-container button').css('transform', 'translateY(-38px)');\r\n    } else {\r\n      $('.a-stickyHelp-container button').css('transform', 'translateY(0px)');\r\n    }\r\n  }\r\n\r\n  $(document.body).on('click', '.a-js-searchFilterToggle', function(e) {\r\n    var hideMainInbox = $('.a-js-hideElement');\r\n    var searchField = $('.a-js-filterFocus');\r\n    var searchFilters = $('.a-overlay-container');\r\n    var hideClass = 'd-none';\r\n\r\n    if (searchFilters.hasClass(hideClass)) {\r\n      searchFilters.removeClass(hideClass);\r\n      hideMainInbox.addClass(hideClass);\r\n      searchFilters.removeAttr('tabindex');\r\n      hideMainInbox.attr('tabindex', '-1');\r\n      searchField.attr('tabindex', '1').focus();\r\n      $('input#inbox_search_filter').val($('input#inbox_search').val());\r\n    } else {\r\n      searchFilters.addClass(hideClass);\r\n      hideMainInbox.removeClass(hideClass);\r\n      searchFilters.attr('tabindex', '-1');\r\n      hideMainInbox.removeAttr('tabindex');\r\n      $('input#inbox_search').val($('input#inbox_search_filter').val());\r\n    }\r\n    setTimeout(RepositionStickyHelp, 0);\r\n\r\n    $(window).off('resize', RepositionStickyHelp);\r\n    $(window).resize(RepositionStickyHelp);\r\n  });\r\n}\r\n","/* globals enableIOS11Fix, disableIOS11Fix, iOS11BugWorkAround */\r\n\r\nvar enableIOS11Fix = function() {\r\n  // We disable scrolling by hiding everything not in view\r\n  document.body.style.overflow = 'hidden';\r\n  document.body.style.position = 'fixed';\r\n  // It seems we don't need to set these, but I'm leaving there here for now\r\n  // Should be reversed in the disableIOS11Fix function if we enable them\r\n  // document.body.style.height = '100%';\r\n  // document.body.style.width = '100%';\r\n};\r\n\r\nvar disableIOS11Fix = function() {\r\n  document.body.style.overflow = 'auto';\r\n  document.body.style.position = 'static';\r\n};\r\n\r\nvar isAffectedPlatform = function() {\r\n  // Needs to be updated if new versions are affected\r\n  var ua = navigator.userAgent;\r\n  var iOS = /iPad|iPhone|iPod/.test(ua);\r\n  var iOS11 = /OS 11_/.test(ua);\r\n\r\n  return (iOS && iOS11);\r\n};\r\n\r\nvar iOS11BugWorkAround = function() {\r\n  // Detect iOS 11_x affected by cursor position bug\r\n  // Bug report: https://bugs.webkit.org/show_bug.cgi?id=176896\r\n  if (isAffectedPlatform()) {\r\n    // This should run in the parent page only, not in the modal\r\n    if ($('body.a-stickyHelp-body').length === 0) {\r\n      // We enable the fix only when the help button is clicked/tapped\r\n      $('.a-stickyHelp-open').on('click', function() {\r\n        enableIOS11Fix();\r\n      });\r\n    }\r\n\r\n    // This should be running inside the iframe\r\n    $('.a-stickyHelp-close').on('click', function() {\r\n      // When the close button in the sticky help window is clicked/tapped\r\n      // we disable the fix, otherwise the page will not scroll\r\n      window.parent.disableIOS11Fix();\r\n    });\r\n  }\r\n};\r\n\r\n","/* globals $ */\r\nvar contactForm = function() {\r\n  $('body.a-stickyHelp-body').on('click', '#contact-form-trigger', function() {\r\n    var ScontactFormLink;\r\n    var $closeButton;\r\n\r\n    if (window.parent.$) {\r\n      ScontactFormLink = window.parent.$('#contact-form-link');\r\n      $closeButton = window.parent.$('.a-stickyHelp-close');\r\n      if (ScontactFormLink.length > 0) {\r\n        ScontactFormLink.click();\r\n        $closeButton.click();\r\n        return false;\r\n      }\r\n    }\r\n\r\n    return true;\r\n  });\r\n};\r\n","/* globals AltinnModal */\r\nvar sessionExpiredDialog = function() {\r\n  var cookie;\r\n  // How long does a session last\r\n  var sessionTimeout = 30;\r\n  // How long before checking for a valid session for the first time\r\n  var firstCheckTimeout = sessionTimeout - 1;\r\n  // How often to check if the session is valid\r\n  var checkTimeout = 2;\r\n  var loggedOutMessage = 'Du har vrt inaktiv i mer enn 30 minutter, og er n logget ut.';\r\n  var cookieName = 'sessionExpiredDialog';\r\n  var isLoggedIn = false;\r\n  var intervarHandler = null;\r\n\r\n  function minutesToMilliseconds(minutes) {\r\n    return minutes * 60 * 1000;\r\n  }\r\n\r\n  function getCookie() {\r\n    var cookieValue = document.cookie.replace(new RegExp('(?:(?:^|.*;\\\\s*)' + cookieName + '\\\\s*\\\\=\\\\s*([^;]*).*$)|^.*$'), '$1');\r\n\r\n    return cookieValue;\r\n  }\r\n\r\n  function stopInterval() {\r\n    if (intervarHandler != null) {\r\n      window.clearInterval(intervarHandler);\r\n      intervarHandler = null;\r\n    }\r\n  }\r\n\r\n  function showLoggedOutMessage() {\r\n    alert(loggedOutMessage);\r\n  }\r\n\r\n  function reloadPage() {\r\n    window.location.reload();\r\n  }\r\n\r\n  function deleteCookie() {\r\n    document.cookie = cookieName + '=; expires=0';\r\n  }\r\n\r\n  function checkCookie() {\r\n    var sessionExpiresIn;\r\n    var now = new Date();\r\n\r\n    cookie = getCookie();\r\n    sessionExpiresIn = new Date(cookie);\r\n\r\n    if (now > sessionExpiresIn) {\r\n      deleteCookie();\r\n      stopInterval();\r\n      showLoggedOutMessage();\r\n      reloadPage();\r\n    }\r\n  }\r\n\r\n  function startCheckTimer() {\r\n    intervarHandler = window.setInterval(checkCookie, minutesToMilliseconds(checkTimeout));\r\n  }\r\n\r\n  function createCookie() {\r\n    var now = new Date();\r\n    // We store the time when the session should expire, in 30 mins\r\n    now.setTime(now.getTime() + minutesToMilliseconds(sessionTimeout));\r\n    document.cookie = cookieName + '=' + now.toUTCString();\r\n    // We start a timer to check in 28 mins, every 2 mins for an expired session\r\n    window.setTimeout(startCheckTimer, minutesToMilliseconds(firstCheckTimeout));\r\n  }\r\n\r\n  if (window.sessionValidation !== undefined && window.sessionValidation != null) {\r\n    sessionTimeout = window.sessionValidation.timeout;\r\n    loggedOutMessage = window.sessionValidation.loggedOutMessage;\r\n    isLoggedIn = window.sessionValidation.loggedIn;\r\n\r\n    if (isLoggedIn) {\r\n      cookie = getCookie();\r\n      if (cookie === '') {\r\n        createCookie();\r\n      } else {\r\n        startCheckTimer();\r\n      }\r\n    } else {\r\n      deleteCookie();\r\n    }\r\n  }\r\n};\r\n","/*\r\n  globals\r\n  AltinnDropdown,\r\n  AltinnModal,\r\n  AltinnQuickhelp,\r\n  addListExpandHandler,\r\n  addListSortHandler,\r\n  articleAnchors,\r\n  autoFootnotes,\r\n  cardsToggle,\r\n  codeLookup,\r\n  colnavCustom,\r\n  contactForm,\r\n  feedbackToggle,\r\n  formatOrgNr,\r\n  genericSearch,\r\n  handleFocus,\r\n  initializeDatepicker,\r\n  iOS11BugWorkAround,\r\n  listenForAttachmentChanges,\r\n  mobileNavigation,\r\n  nameChecker,\r\n  newsArchive,\r\n  onConfirmDeletionClick,\r\n  onFileInputChange,\r\n  popoverGlobalInit,\r\n  popoverLocalInit,\r\n  questionnaireInteraction,\r\n  searchFilterView,\r\n  sessionExpiredDialog,\r\n  setupAddRightsHandler,\r\n  setupExpandContent,\r\n  setupFormValidation,\r\n  setupListRowSelect,\r\n  setupNestedCheckboxes,\r\n  setupOnKeypress,\r\n  setupSelectableCheckbox,\r\n  setupTruncateLines,\r\n  setValidatorSettings,\r\n  subscribe,\r\n  toggleFilter,\r\n  toggleInstant,\r\n  toggleSwitch,\r\n  tooltip,\r\n  truncateBoxButtonNames,\r\n  uniformHeight,\r\n  window,\r\n*/\r\nwindow.infoportalInit = function() {\r\n  AltinnModal.init();\r\n  AltinnDropdown.init();\r\n  AltinnQuickhelp.init();\r\n  addListExpandHandler();\r\n  addListSortHandler();\r\n  articleAnchors();\r\n  autoFootnotes(); // This should be called before popoverLocalInit\r\n  colnavCustom();\r\n  contactForm();\r\n  feedbackToggle();\r\n  genericSearch();\r\n  handleFocus();\r\n  initializeDatepicker();\r\n  iOS11BugWorkAround();\r\n  listenForAttachmentChanges();\r\n  mobileNavigation();\r\n  newsArchive();\r\n  popoverGlobalInit();\r\n  popoverLocalInit();\r\n  questionnaireInteraction();\r\n  searchFilterView();\r\n  sessionExpiredDialog();\r\n  setupExpandContent();\r\n  setupFormValidation();\r\n  setupNestedCheckboxes();\r\n  setupOnKeypress();\r\n  setupSelectableCheckbox();\r\n  setupTruncateLines();\r\n  setValidatorSettings();\r\n  subscribe();\r\n  toggleFilter();\r\n  toggleInstant();\r\n  tooltip();\r\n  uniformHeight();\r\n\r\n  $.fn.modal.Constructor.prototype._enforceFocus = function() {\r\n    $(document)\r\n      .off('focusin.bs.modal')\r\n      .on('focusin.bs.modal', $.proxy(function(event) {\r\n        if (document !== event.target &&\r\n            this._element !== event.target &&\r\n            !$(this._element).has(event.target).length\r\n            && !$(event.target).hasClass('popover')\r\n            && !$(event.target).closest('.popover').length > 0) {\r\n          this._element.focus();\r\n        }\r\n      }, this));\r\n  };\r\n  function setupForm1() {\r\n    $('body').off('focus', '#contactForm', setupForm1);\r\n    setupFormValidation('#contactForm', '#a-js-contactForm-submit');\r\n  }\r\n  function setupForm2() {\r\n    $('body').off('focus', '#contactForm2', setupForm2);\r\n    setupFormValidation('#contactForm2', '#a-js-contactForm-submit2');\r\n  }\r\n  $('body').on('focus', '#contactForm', setupForm1);\r\n  $('body').on('focus', '#contactForm2', setupForm2);\r\n\r\n  function errorMessageCallback(type) {\r\n    if (type === 'ext') {\r\n      // Prefix to error message where the user tried to upload a forbidden file type\r\n      return 'Tillatte filtyper';\r\n    } else if (type === 'size') {\r\n      // Prefix to error message where the user tried to upload a file which is too big\r\n      return 'Maksimum filstrrelse';\r\n    }\r\n    return 'Det oppstod en feil';\r\n  }\r\n  listenForAttachmentChanges('#js-attachmentForm', errorMessageCallback);\r\n};\r\nwindow.infoportalInit();\r\n// $(document).foundation();\r\n"]}